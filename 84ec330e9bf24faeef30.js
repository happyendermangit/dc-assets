(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["3468"],{6916:function(e,t,n){"use strict";e.exports=n.p+"a13348dd889e2a36b788.gif"},12412:function(e,t,n){"use strict";e.exports=n.p+"91d3c1acae2f11c57634.png"},54400:function(e,t,n){"use strict";e.exports=n.p+"04c2807fcf052140a12f.gif"},122574:function(e,t,n){"use strict";e.exports=n.p+"7548ee8ba4e2f2600b69.png"},463095:function(e,t,n){"use strict";e.exports=n.p+"f597cc1d129f34c8f135.gif"},733105:function(e,t,n){"use strict";e.exports=n.p+"35d07cb23db04126d51b.png"},749003:function(e,t,n){"use strict";e.exports=n.p+"dbfa9f354f49f4a6a61e.gif"},918927:function(e,t,n){"use strict";e.exports=n.p+"9b5c79ffc65b32de7d01.png"},316718:function(e,t,n){"use strict";n.r(t),n.d(t,{fetchUserEntitlementsForApplication:function(){return o},fetchUserEntitlements:function(){return u},fetchGiftableEntitlements:function(){return s}});var i=n("872717"),r=n("913144"),l=n("271560"),a=n("49111");function o(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return r.default.wait(()=>{r.default.dispatch({type:"ENTITLEMENT_FETCH_APPLICATION_START",applicationId:e})}),i.default.get({url:a.Endpoints.ENTITLEMENTS_FOR_APPLICATION(e),oldFormErrors:!0,query:{exclude_consumed:t}}).then(t=>(r.default.dispatch({type:"ENTITLEMENT_FETCH_APPLICATION_SUCCESS",applicationId:e,entitlements:t.body}),t.body)).catch(()=>{r.default.dispatch({type:"ENTITLEMENT_FETCH_APPLICATION_FAIL",applicationId:e})})}async function u(e){let{withSku:t=!1,withApplication:n=!1,entitlementType:l}=e;r.default.dispatch({type:"ENTITLEMENTS_FETCH_FOR_USER_START"});try{let e=await i.default.get({url:a.Endpoints.ENTITLEMENTS_FOR_USER,query:{with_sku:t,with_application:n,entitlement_type:l}});r.default.dispatch({type:"ENTITLEMENTS_FETCH_FOR_USER_SUCCESS",entitlements:e.body})}catch(e){r.default.dispatch({type:"ENTITLEMENTS_FETCH_FOR_USER_FAIL"})}}async function s(){r.default.dispatch({type:"ENTITLEMENTS_GIFTABLE_FETCH"});try{let e=await (0,l.httpGetWithCountryCodeQuery)({url:a.Endpoints.ENTITLEMENTS_GIFTABLE});r.default.dispatch({type:"ENTITLEMENTS_GIFTABLE_FETCH_SUCCESS",entitlements:e.body})}catch(e){r.default.dispatch({type:"ENTITLEMENTS_GIFTABLE_FETCH_FAIL"})}}},54239:function(e,t,n){"use strict";n.r(t),n.d(t,{pushLayer:function(){return r},popLayer:function(){return l},popAllLayers:function(){return a}});var i=n("913144");function r(e){i.default.dispatch({type:"LAYER_PUSH",component:e})}function l(){i.default.dispatch({type:"LAYER_POP"})}function a(){i.default.dispatch({type:"LAYER_POP_ALL"})}},112679:function(e,t,n){"use strict";n.r(t),n.d(t,{updateStripePaymentRequest:function(){return r},updateCardInfo:function(){return l},clearCardInfo:function(){return a},updateAddressInfo:function(){return o},clearError:function(){return u}});var i=n("913144");function r(e){i.default.dispatch({type:"NEW_PAYMENT_SOURCE_STRIPE_PAYMENT_REQUEST_UPDATE",stripePaymentMethod:e})}function l(e,t){i.default.dispatch({type:"NEW_PAYMENT_SOURCE_CARD_INFO_UPDATE",info:e,isValid:t})}function a(){i.default.dispatch({type:"NEW_PAYMENT_SOURCE_CARD_INFO_UPDATE",info:{name:""},isValid:!1})}function o(e,t){i.default.dispatch({type:"NEW_PAYMENT_SOURCE_ADDRESS_INFO_UPDATE",info:e,isValid:t})}function u(){i.default.wait(()=>i.default.dispatch({type:"NEW_PAYMENT_SOURCE_CLEAR_ERROR"}))}},55689:function(e,t,n){"use strict";n.r(t),n.d(t,{clearPurchaseTokenAuthState:function(){return r}});var i=n("913144");function r(){i.default.dispatch({type:"BILLING_PURCHASE_TOKEN_AUTH_CLEAR_STATE"})}},152584:function(e,t,n){"use strict";n.r(t),n.d(t,{accountDetailsInit:function(){return p},accountDetailsClose:function(){return T},disableAccount:function(){return h},saveAccountRequest:function(){return S},saveAccountChanges:function(){return I},getHarvestStatus:function(){return g},requestHarvest:function(){return A},setPendingAvatar:function(){return C},setPendingGlobalNameName:function(){return N},setPendingAvatarDecoration:function(){return m},setPendingProfileEffectId:function(){return v},setSingleTryItOutCollectiblesItem:function(){return R},clearErrors:function(){return O},resetPendingAccountChanges:function(){return y},resetAllPending:function(){return U},resetAndCloseUserProfileForm:function(){return M},setDisableSubmit:function(){return L}});var i=n("872717"),r=n("95410"),l=n("819855"),a=n("913144"),o=n("393414"),u=n("599110"),s=n("315102"),d=n("730622"),c=n("437822"),f=n("49111"),E=n("191349"),_=n("782340");function p(){a.default.dispatch({type:"USER_SETTINGS_ACCOUNT_INIT"})}function T(){a.default.dispatch({type:"USER_SETTINGS_ACCOUNT_CLOSE"})}function h(e,t){let n=t?_.default.Messages.DELETE_ACCOUNT:_.default.Messages.DISABLE_ACCOUNT,r=t?f.Endpoints.DELETE_ACCOUNT:f.Endpoints.DISABLE_ACCOUNT;return(0,d.default)(t=>i.default.post({url:r,body:{password:e,...t},oldFormErrors:!0}),{modalProps:{title:n},checkEnabled:!1}).then(()=>{c.default.logoutInternal(),(0,o.transitionTo)(f.Routes.DEFAULT_LOGGED_OUT)})}async function S(e){let t=await i.default.patch({url:f.Endpoints.ME,oldFormErrors:!0,body:e}),n=t.body;if(n.token){let t=n.token;delete n.token,a.default.dispatch({type:"UPDATE_TOKEN",token:t,userId:n.id}),(null==e?void 0:e.password)!=null&&(null==e?void 0:e.new_password)!=null&&a.default.dispatch({type:"PASSWORD_UPDATED",userId:n.id})}return a.default.dispatch({type:"CURRENT_USER_UPDATE",user:n}),t}function I(e){let{username:t,discriminator:n,email:i,emailToken:l,password:o,avatar:c,avatarDecoration:p,newPassword:T,globalName:h}=e;return a.default.dispatch({type:"USER_SETTINGS_ACCOUNT_SUBMIT"}),(0,d.default)(e=>{let a={username:t,email:i,email_token:l,password:o,avatar:c,discriminator:n,global_name:h,new_password:T,...e};null===p&&(a.avatar_decoration_id=null),null!=p&&(a.avatar_decoration_id=p.id,a.avatar_decoration_sku_id=p.skuId);let u=r.default.get(f.DEVICE_TOKEN),s=(0,E.getDevicePushProvider)();null!=s&&null!=u&&(a.push_provider=s,a.push_token=u);let d=r.default.get(f.DEVICE_VOIP_TOKEN);return null!=E.DEVICE_PUSH_VOIP_PROVIDER&&null!=d&&(a.push_voip_provider=E.DEVICE_PUSH_VOIP_PROVIDER,a.push_voip_token=d),S(a)},{checkEnabled:!1,modalProps:{title:_.default.Messages.TWO_FA_CHANGE_ACCOUNT},hooks:{onEarlyClose:()=>a.default.dispatch({type:"USER_SETTINGS_ACCOUNT_SUBMIT_FAILURE",errors:{}})}}).then(e=>{let t=e.body;return u.default.track(f.AnalyticEvents.USER_AVATAR_UPDATED,{animated:(0,s.isAnimatedIconHash)(t.avatar)}),a.default.dispatch({type:"USER_SETTINGS_ACCOUNT_SUBMIT_SUCCESS"}),e},e=>(a.default.dispatch({type:"USER_SETTINGS_ACCOUNT_SUBMIT_FAILURE",errors:e.body}),e))}function g(){return i.default.get({url:f.Endpoints.USER_HARVEST,oldFormErrors:!0})}function A(){return i.default.post({url:f.Endpoints.USER_HARVEST,oldFormErrors:!0})}function C(e){a.default.dispatch({type:"USER_SETTINGS_ACCOUNT_SET_PENDING_AVATAR",avatar:e}),null==e?l.AccessibilityAnnouncer.announce(_.default.Messages.A11Y_ANNOUNCEMENT_AVATAR_NONE):l.AccessibilityAnnouncer.announce(_.default.Messages.A11Y_ANNOUNCEMENT_AVATAR_CHANGED)}function N(e){a.default.dispatch({type:"USER_SETTINGS_ACCOUNT_SET_PENDING_GLOBAL_NAME",globalName:e})}function m(e){a.default.dispatch({type:"USER_SETTINGS_ACCOUNT_SET_PENDING_AVATAR_DECORATION",avatarDecoration:e})}function v(e){a.default.dispatch({type:"USER_SETTINGS_ACCOUNT_SET_PENDING_PROFILE_EFFECT_ID",profileEffectId:e})}function R(e){a.default.dispatch({type:"USER_SETTINGS_ACCOUNT_SET_SINGLE_TRY_IT_OUT_COLLECTIBLES_ITEM",item:e})}function O(){a.default.dispatch({type:"USER_SETTINGS_CLEAR_ERRORS"})}function y(){a.default.dispatch({type:"USER_SETTINGS_RESET_PENDING_ACCOUNT_CHANGES"})}function U(){a.default.dispatch({type:"USER_SETTINGS_RESET_ALL_PENDING"})}function M(){a.default.dispatch({type:"USER_SETTINGS_ACCOUNT_RESET_AND_CLOSE_FORM"})}function L(e){a.default.dispatch({type:"USER_SETTINGS_ACCOUNT_SET_DISABLE_SUBMIT",disable:e})}},920636:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}}),n("222007");var i=n("37983"),r=n("884691"),l=n("414456"),a=n.n(l),o=n("77078"),u=n("782340"),s=n("347129");class d extends r.PureComponent{render(){var e;let{title:t,actionText:n,children:l,error:d,isLoading:c,maxLength:f,transitionState:E,helpMessage:_,retryPrompt:p,retrySuccessMessage:T}=this.props,{code:h,errorMessage:S,retrySuccess:I}=this.state,g=r.Children.count(l)>0?(0,i.jsx)(o.Card,{type:o.Card.Types.WARNING,className:s.card,children:(0,i.jsx)(o.Text,{variant:"text-md/normal",children:l})}):null,A=null!=p?(0,i.jsxs)(o.Text,{className:a(s.submitText,s.spacing),variant:"text-sm/normal",children:[(0,i.jsx)("br",{}),(0,i.jsx)(o.Clickable,{className:a(s.spacing,s.link),onClick:this.handleRetry,children:(0,i.jsx)(o.Anchor,{children:p})})]}):null,C=I?(0,i.jsx)(o.Card,{type:o.Card.Types.SUCCESS,className:s.card,children:(0,i.jsx)(o.Text,{variant:"text-md/normal",children:T})}):null;return(0,i.jsx)(o.ModalRoot,{transitionState:E,children:(0,i.jsxs)("form",{onSubmit:this.handleSubmit,children:[(0,i.jsx)(o.ModalHeader,{separator:!1,children:(0,i.jsx)(o.Heading,{variant:"heading-lg/semibold",children:t})}),(0,i.jsxs)(o.ModalContent,{children:[null!=_?(0,i.jsx)(o.Text,{color:"text-normal",variant:"text-md/normal",className:s.spacing,children:_}):null,g,C,(0,i.jsxs)(o.FormItem,{title:this.getLabelText(),className:s.spacing,children:[(0,i.jsx)(o.TextInput,{inputRef:this.setRef,onChange:this.handleCodeChange,placeholder:null!==(e=this.getPlaceholder())&&void 0!==e?e:void 0,maxLength:null!=f?f:10,value:h,autoComplete:"one-time-code",autoFocus:!0}),this.errorPresent()?(0,i.jsx)(o.Text,{color:"text-danger",variant:"text-xs/normal",className:s.error,children:null!=d?d:S}):null,A]})]}),(0,i.jsxs)(o.ModalFooter,{children:[(0,i.jsx)(o.Button,{type:"submit",disabled:c||0===h.length,children:null!=n?n:u.default.Messages.CONFIRM}),(0,i.jsx)(o.Button,{onClick:this.handleCancel,disabled:c,look:o.Button.Looks.LINK,color:o.Button.Colors.PRIMARY,children:u.default.Messages.CANCEL})]})]})})}constructor(...e){super(...e),this.state={code:"",errorMessage:"",retrySuccess:!1},this.setRef=e=>{this._input=e},this.getLabelText=()=>{var e;return null!==(e=this.props.label)&&void 0!==e?e:this.props.disallowBackupCodes?u.default.Messages.TWO_FA_ENTER_TOKEN_NO_BACKUP_LABEL:u.default.Messages.TWO_FA_ENTER_TOKEN_LABEL},this.getSupportedCodeTypes=()=>this.props.disallowBackupCodes?u.default.Messages.TWO_FA_AUTH_CODE_NO_BACKUP:u.default.Messages.TWO_FA_AUTH_CODE,this.getPlaceholder=()=>{var e;return this.props.forceNoPlaceholder?null:null!==(e=this.props.placeholder)&&void 0!==e?e:this.getSupportedCodeTypes()},this.errorPresent=()=>null!=this.props.error&&""!==this.props.error||null!=this.state.errorMessage&&""!==this.state.errorMessage,this.handleRetry=()=>{let{onRetry:e}=this.props;null==e||e().then(()=>this.setState({retrySuccess:!0}))},this.handleSubmit=e=>{e.preventDefault();let{handleSubmit:t,onError:n}=this.props;t(this.state.code).catch(e=>{null!=e.body&&(null==n||n(e.body),e.body.message&&this.setState({errorMessage:e.body.message}))})},this.handleCancel=()=>{let{onClose:e,handleEarlyClose:t}=this.props;e(),null==t||t()},this.handleCodeChange=e=>{this.setState({code:e})}}}d.defaultProps={btnClass:"",isLoading:!1,disallowBackupCodes:!1,error:null,forceNoPlaceholder:!1};var c=d},276825:function(e,t,n){"use strict";n.r(t),n.d(t,{CheckmarkSmallIcon:function(){return a}});var i=n("37983");n("884691");var r=n("669491"),l=n("75196");let a=e=>{let{width:t=24,height:n=24,color:a=r.default.colors.INTERACTIVE_NORMAL,colorClass:o="",...u}=e;return(0,i.jsx)("svg",{...(0,l.default)(u),xmlns:"http://www.w3.org/2000/svg",width:t,height:n,fill:"none",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{fill:"string"==typeof a?a:a.css,fillRule:"evenodd",d:"M18.7 7.3a1 1 0 0 1 0 1.4l-8 8a1 1 0 0 1-1.4 0l-4-4a1 1 0 1 1 1.4-1.4l3.3 3.29 7.3-7.3a1 1 0 0 1 1.4 0Z",clipRule:"evenodd",className:o})})}},666031:function(e,t,n){"use strict";n.r(t),n.d(t,{GifIcon:function(){return a}});var i=n("37983");n("884691");var r=n("669491"),l=n("75196");let a=e=>{let{width:t=24,height:n=24,color:a=r.default.colors.INTERACTIVE_NORMAL,colorClass:o="",...u}=e;return(0,i.jsx)("svg",{...(0,l.default)(u),xmlns:"http://www.w3.org/2000/svg",width:t,height:n,fill:"none",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{fill:"string"==typeof a?a:a.css,fillRule:"evenodd",d:"M5 2a3 3 0 0 0-3 3v14a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V5a3 3 0 0 0-3-3H5Zm2.18 13.87a2.9 2.9 0 0 1-1.66-.49 3.18 3.18 0 0 1-1.12-1.35A4.88 4.88 0 0 1 4 12c0-.75.14-1.42.42-2 .29-.59.7-1.04 1.24-1.37a3.7 3.7 0 0 1 1.95-.5c.64 0 1.21.14 1.72.4.5.28.89.67 1.15 1.16l-1.22.88a1.76 1.76 0 0 0-1.64-1.02c-.66 0-1.17.22-1.52.65a2.74 2.74 0 0 0-.53 1.8c0 .78.18 1.39.53 1.81.35.42.86.64 1.52.64.3 0 .57-.06.81-.16.25-.12.45-.27.58-.47v-.93H7.3v-1.4h3.24v4.23H9.27l-.2-.71c-.43.57-1.06.86-1.89.86Zm6.34-.15h-1.57V8.28h1.57v7.44Zm1.51 0h1.57v-2.83h2.76v-1.42H16.6V9.7H20V8.28h-4.97v7.44Z",clipRule:"evenodd",className:o})})}},998460:function(e,t,n){"use strict";n.r(t),n.d(t,{GiftIcon:function(){return a}});var i=n("37983");n("884691");var r=n("669491"),l=n("75196");let a=e=>{let{width:t=24,height:n=24,color:a=r.default.colors.INTERACTIVE_NORMAL,colorClass:o="",...u}=e;return(0,i.jsxs)("svg",{...(0,l.default)(u),xmlns:"http://www.w3.org/2000/svg",width:t,height:n,fill:"none",viewBox:"0 0 24 24",children:[(0,i.jsx)("path",{fill:"string"==typeof a?a:a.css,fillRule:"evenodd",d:"M4 6a4 4 0 0 1 4-4h.09c1.8 0 3.39 1.18 3.91 2.9A4.09 4.09 0 0 1 15.91 2H16a4 4 0 0 1 3.46 6H20a2 2 0 0 1 2 2v1.5a.5.5 0 0 1-.5.5h-19a.5.5 0 0 1-.5-.5V10c0-1.1.9-2 2-2h.54A3.98 3.98 0 0 1 4 6Zm12 2a2 2 0 1 0 0-4h-.09c-.96 0-1.8.65-2.02 1.58L13.29 8H16Zm-5.89-2.42.6 2.42H8a2 2 0 1 1 0-4h.09c.96 0 1.8.65 2.02 1.58Z",clipRule:"evenodd",className:o}),(0,i.jsx)("path",{fill:"string"==typeof a?a:a.css,d:"M3 20c0 1.1.9 2 2 2h5.5a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.5-.5h-7a.5.5 0 0 0-.5.5V20ZM13.5 22a.5.5 0 0 1-.5-.5v-7c0-.28.22-.5.5-.5h7c.28 0 .5.22.5.5V20a2 2 0 0 1-2 2h-5.5Z",className:o})]})}},851298:function(e,t,n){"use strict";n.r(t),n.d(t,{ImagePlusIcon:function(){return a}});var i=n("37983");n("884691");var r=n("669491"),l=n("75196");let a=e=>{let{width:t=24,height:n=24,color:a=r.default.colors.INTERACTIVE_NORMAL,colorClass:o="",...u}=e;return(0,i.jsxs)("svg",{...(0,l.default)(u),xmlns:"http://www.w3.org/2000/svg",width:t,height:n,fill:"none",viewBox:"0 0 24 24",children:[(0,i.jsx)("path",{fill:"string"==typeof a?a:a.css,fillRule:"evenodd",d:"M2 5a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v8.67c0 .12-.34.17-.39.06A2.87 2.87 0 0 0 19 12a3 3 0 0 0-2.7 1.7c-.1.18-.36.22-.48.06l-.47-.63a2 2 0 0 0-3.2 0L9.93 16.1l-.5-.64a1.5 1.5 0 0 0-2.35 0l-1.86 2.32A.75.75 0 0 0 5.81 19h5.69c.28 0 .5.23.54.5.17.95.81 1.68 1.69 2.11.11.06.06.39-.06.39H5a3 3 0 0 1-3-3V5Zm8.2.98c.23-.91-.88-1.55-1.55-.9a.93.93 0 0 1-1.3 0c-.67-.65-1.78-.01-1.55.9a.93.93 0 0 1-.65 1.12c-.9.26-.9 1.54 0 1.8.48.14.77.63.65 1.12-.23.91.88 1.55 1.55.9a.93.93 0 0 1 1.3 0c.67.65 1.78.01 1.55-.9a.93.93 0 0 1 .65-1.12c.9-.26.9-1.54 0-1.8a.93.93 0 0 1-.65-1.12Z",clipRule:"evenodd",className:o}),(0,i.jsx)("path",{fill:"string"==typeof a?a:a.css,d:"M19 14a1 1 0 0 1 1 1v3h3a1 1 0 0 1 0 2h-3v3a1 1 0 0 1-2 0v-3h-3a1 1 0 1 1 0-2h3v-3a1 1 0 0 1 1-1Z",className:o})]})}},125094:function(e,t,n){"use strict";n.r(t),n.d(t,{ScreenArrowIcon:function(){return a}});var i=n("37983");n("884691");var r=n("669491"),l=n("75196");let a=e=>{let{width:t=24,height:n=24,color:a=r.default.colors.INTERACTIVE_NORMAL,colorClass:o="",...u}=e;return(0,i.jsxs)("svg",{...(0,l.default)(u),xmlns:"http://www.w3.org/2000/svg",width:t,height:n,fill:"none",viewBox:"0 0 24 24",children:[(0,i.jsx)("path",{fill:"string"==typeof a?a:a.css,fillRule:"evenodd",d:"M2 5a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V5Zm16 3a1 1 0 0 0-.3-.7l-3-3a1 1 0 1 0-1.4 1.4L14.58 7H13a6 6 0 0 0-6 6 1 1 0 1 0 2 0 4 4 0 0 1 4-4h1.59l-1.3 1.3a1 1 0 0 0 1.42 1.4l3-3A1 1 0 0 0 18 8Z",clipRule:"evenodd",className:o}),(0,i.jsx)("path",{fill:"string"==typeof a?a:a.css,d:"M13 19.5c0 .28.22.5.5.5H15a1 1 0 1 1 0 2H9a1 1 0 1 1 0-2h1.5a.5.5 0 0 0 .5-.5v-2c0-.28.22-.5.5-.5h1c.28 0 .5.22.5.5v2Z",className:o})]})}},252744:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}}),n("222007");var i=n("884691");function r(e){let[t,n]=(0,i.useState)(!1),r=(0,i.useRef)(e.current);return(0,i.useEffect)(()=>{r.current=e.current},[e]),(0,i.useEffect)(()=>{let e=r.current;if(null==e)return;let t=()=>n(!0),i=()=>n(!1);return e.addEventListener("mouseenter",t),e.addEventListener("mouseleave",i),()=>{e.removeEventListener("mouseenter",t),e.removeEventListener("mouseleave",i)}},[r]),t}},689988:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}}),n("70102"),n("222007"),n("704744");var i,r=n("913144");i=class{initialize(){this.initializedCount++,!(this.initializedCount>1)&&(this._initialize(),Object.entries(this.actions).forEach(e=>{let[t,n]=e;r.default.subscribe(t,"function"==typeof n?n:n.callback)}),this.stores.forEach((e,t)=>{t.addChangeListener(e),e()}))}terminate(e){!(this.initializedCount<=0)&&(e?this.initializedCount=0:this.initializedCount--,0===this.initializedCount&&(this._terminate(),Object.entries(this.actions).forEach(e=>{let[t,n]=e;r.default.unsubscribe(t,"function"==typeof n?n:n.callback)})))}_initialize(){}_terminate(){}constructor(){this.initializedCount=0,this.actions={},this.stores=new Map}}},545158:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var i=n("773336");async function r(e,t){let{default:r}=await n.el("572544").then(n.bind(n,"572544")),l=r(e,{skipExtensionCheck:t,analyticsLocations:[]});if(null!=l)l(null);else if(i.isPlatformEmbedded)window.open(e);else{let t=document.createElement("a");t.href=e,t.target="_blank",t.rel="noreferrer noopener",t.click()}}},988268:function(e,t,n){"use strict";var i,r,l,a;n.r(t),n.d(t,{ApplicationTypes:function(){return i},BotTagTypes:function(){return r}}),(l=i||(i={}))[l.GAME=1]="GAME",l[l.TICKETED_EVENTS=3]="TICKETED_EVENTS",l[l.GUILD_ROLE_SUBSCRIPTIONS=4]="GUILD_ROLE_SUBSCRIPTIONS",(a=r||(r={}))[a.BOT=0]="BOT",a[a.SERVER=1]="SERVER",a[a.SYSTEM_DM=2]="SYSTEM_DM",a[a.OFFICIAL=3]="OFFICIAL",a[a.STAFF_ONLY_DM=4]="STAFF_ONLY_DM",a[a.ORIGINAL_POSTER=5]="ORIGINAL_POSTER",a[a.AI=6]="AI",a[a.REMIX=7]="REMIX"},606292:function(e,t,n){"use strict";n.r(t),n.d(t,{getDecorationSizeForAvatarSize:function(){return a},openAvatarDecorationModal:function(){return o}});var i=n("37983");n("884691");var r=n("77078");n("103603");var l=n("573135");function a(e){return"number"!=typeof e?(0,r.getAvatarSize)(e)*l.DECORATION_TO_AVATAR_RATIO:e*l.DECORATION_TO_AVATAR_RATIO}let o=e=>{let{analyticsLocations:t,initialSelectedDecoration:l,isTryItOutFlow:a}=e;(0,r.openModalLazy)(async()=>{let{default:e}=await n.el("791050").then(n.bind(n,"791050"));return n=>(0,i.jsx)(e,{...n,analyticsLocations:t,initialSelectedDecoration:l,isTryItOutFlow:a})},{})}},619935:function(e,t,n){"use strict";n.r(t),n.d(t,{useBlockedPaymentsConfig:function(){return o},default:function(){return u}});var i=n("862205"),r=n("15733");let l=(0,i.createExperiment)({kind:"user",id:"2022-03_block_russian_purchases",label:"Block purchases based on country",defaultConfig:{paymentsBlocked:!1},treatments:[{id:1,label:"Payments Blocked",config:{paymentsBlocked:!0}}]}),a=(0,i.createExperiment)({kind:"user",id:"2022-03_block_russian_purchases_desktop",label:"Block purchases based on country (desktop specific flags)",defaultConfig:{checkPaymentSource:!1},treatments:[{id:1,label:"Check Payment Source",config:{checkPaymentSource:!0}}]});function o(){let{paymentsBlocked:e}=l.useExperiment({location:"c519a9_1"},{autoTrackExposure:!1}),{checkPaymentSource:t}=a.useExperiment({location:"c519a9_2"},{autoTrackExposure:!1}),{defaultBillingCountryCode:n}=(0,r.default)();return e||t&&"RU"===n}var u=l},616265:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var i={openCreateGuildModal:e=>{n.el("297267").then(n.bind(n,"297267")).then(t=>{let{openCreateGuildModal:n}=t;return n(e)})},updateCreateGuildModal:e=>{n.el("297267").then(n.bind(n,"297267")).then(t=>{let{updateCreateGuildModal:n}=t;return n(e)})}}},634544:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var i=n("37983");n("884691");var r=n("414456"),l=n.n(r),a=n("77078"),o=n("118503"),u=n("427459"),s=n("782340"),d=n("884737"),c=e=>{let t,n,r,{guildFeature:c,guild:f,className:E,hideTooltip:_=!1,tooltipPosition:p="left",onClick:T}=e,h=f.hasFeature(c),S=(0,u.minimumRequiredTierForGuildFeature)(c);return(h?(null!=S&&(r=s.default.Messages.PREMIUM_GUILD_INCLUDED),t=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.default,{className:d.unlockedIcon}),(0,i.jsx)(a.Heading,{variant:"eyebrow",className:d.description,children:s.default.Messages.PREMIUM_GUILD_TIER_UNLOCKED})]})):(null!=S&&(r=s.default.Messages.CLICK_TO_LEARN_MORE),t=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.default,{className:d.icon}),(0,i.jsx)(a.Heading,{variant:"eyebrow",className:d.description,children:null!=S&&(0,u.getShortenedTierName)(S)})]})),n=_||null==r?(0,i.jsx)("div",{className:l(d.availabilityIndicator,E),children:t}):(0,i.jsx)(a.Tooltip,{position:p,text:r,children:e=>(0,i.jsx)("div",{...e,className:l(d.availabilityIndicator,E),children:t})}),null==T||h)?n:(0,i.jsx)(a.Clickable,{onClick:T,className:d.clickable,children:n})}},50926:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var i=n("872717"),r=n("913144"),l=n("479756"),a=n("38654"),o=n("9294"),u=n("26989"),s=n("337543"),d=n("697218"),c=n("49111");let f=async(e,t)=>{let n=null!=t?t:s.default.getInviteKeyForGuildId(e),l=d.default.getCurrentUser(),a=!u.default.isMember(e,null==l?void 0:l.id);try{let t=await i.default.get({url:c.Endpoints.GUILD_MEMBER_VERIFICATION(e),query:{with_guild:a,invite_code:null!=n?(0,o.parseInviteCodeFromInviteKey)(n):void 0},oldFormErrors:!0});if(null==t.body)throw t;let{body:l}=t;return r.default.dispatch({type:"MEMBER_VERIFICATION_FORM_UPDATE",guildId:e,form:{version:l.version,description:l.description,formFields:l.form_fields,guild:l.guild}}),l}catch(t){r.default.dispatch({type:"MEMBER_VERIFICATION_FORM_FETCH_FAIL",guildId:e})}},E=async(e,t)=>{let n=await i.default.patch({url:c.Endpoints.GUILD_MEMBER_VERIFICATION(e),body:{form_fields:t},oldFormErrors:!0}),{body:l}=n;r.default.dispatch({type:"MEMBER_VERIFICATION_FORM_UPDATE",guildId:e,form:{version:l.version,description:l.description,formFields:l.form_fields}})},_=async(e,t)=>{let n=await i.default.patch({url:c.Endpoints.GUILD_MEMBER_VERIFICATION(e),body:{description:t},oldFormErrors:!0}),{body:l}=n;r.default.dispatch({type:"MEMBER_VERIFICATION_FORM_UPDATE",guildId:e,form:{version:l.version,description:l.description,formFields:l.form_fields}})},p=async(e,t)=>{await i.default.patch({url:c.Endpoints.GUILD_MEMBER_VERIFICATION(e),body:{enabled:t},oldFormErrors:!0})},T=async(e,t)=>{if(a.default.isFullServerPreview(e)){(0,l.updateImpersonatedData)(e,{memberOptions:{isPending:!1}});return}try{let n=await i.default.put({url:c.Endpoints.GUILD_MEMBER_REQUEST_TO_JOIN(e),body:{version:t.version,form_fields:t.formFields}}),{body:l}=n;return r.default.dispatch({type:"USER_GUILD_JOIN_REQUEST_UPDATE",guildId:e,request:l}),l}catch(e){throw e}};var h={fetchVerificationForm:f,updateVerificationForm:E,updateVerificationFormDescription:_,enableVerificationForm:p,submitVerificationForm:T}},394294:function(e,t,n){"use strict";n.r(t),n.d(t,{AUTOMATIC_APPROVAL_FORM_FIELDS:function(){return l},MANUAL_APPROVAL_FORM_FIELDS:function(){return a},MAX_FORM_ELEMENTS:function(){return o},MAX_NUM_RULES:function(){return u},MAX_RULE_LENGTH:function(){return s},MAX_QUESTION_LENGTH:function(){return d},MAX_NUM_CHOICES:function(){return c},MAX_CHOICE_LENGTH:function(){return f},MAX_TEXT_RESPONSE_LENGTH:function(){return E},MAX_PARAGRAPH_RESPONSE_LENGTH:function(){return _},MAX_DESCRIPTION_LENGTH:function(){return p},MEMBER_VERIFICATION_TYPE:function(){return T},IN_APP_MEMBER_VERIFICATION_MODAL_KEY:function(){return h}}),n("222007");var i,r=n("567054");r.VerificationFormFieldTypes.VERIFICATION;let l=new Set([r.VerificationFormFieldTypes.TERMS]),a=new Set([r.VerificationFormFieldTypes.MULTIPLE_CHOICE,r.VerificationFormFieldTypes.TEXT_INPUT,r.VerificationFormFieldTypes.PARAGRAPH]),o=5,u=16,s=300,d=300,c=8,f=150,E=150,_=1e3,p=300,T="Membership Gating",h="in-app-member-verification";(i||(i={})).VERIFICATION_INFO="VERIFICATION_INFO"},233322:function(e,t,n){"use strict";let i;n.r(t),n.d(t,{openMemberVerificationModal:function(){return r}}),i=n("453265").default;let r=i.openMemberVerificationModal;i.closeMemberVerificationModal},347977:function(e,t,n){"use strict";n.r(t),n.d(t,{useMemberVerificationFormNoticeStore:function(){return o},setHasUnsubmittedChanges:function(){return u},setShowWarning:function(){return s}});var i=n("308503"),r=n("659500"),l=n("49111");let a=Object.freeze({hasUnsubmittedChanges:!1,shouldShowWarning:!1}),o=(0,i.default)(e=>a),u=e=>{o.setState({hasUnsubmittedChanges:e})},s=e=>{o.setState({shouldShowWarning:e}),e&&r.ComponentDispatch.dispatch(l.ComponentActions.EMPHASIZE_NOTICE)}},453265:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var i=n("37983");n("884691");var r=n("551042"),l=n("599110"),a=n("50926"),o=n("347977"),u=n("394294"),s=n("49111");let d=()=>{l.default.track(s.AnalyticEvents.MODAL_DISMISSED,{type:u.MEMBER_VERIFICATION_TYPE})},c=e=>{l.default.track(s.AnalyticEvents.OPEN_MODAL,{type:u.MEMBER_VERIFICATION_TYPE,guild_id:e})};var f={openMemberVerificationModal(e,t){c(e);let l=async t=>{await a.default.submitVerificationForm(e,t)};(0,r.openModalLazy)(async()=>{let{default:t}=await n.el("93184").then(n.bind(n,"93184"));return n=>(0,i.jsx)(t,{...n,guildId:e,onComplete:l,onClose:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!e){if(o.useMemberVerificationFormNoticeStore.getState().hasUnsubmittedChanges){(0,o.setShowWarning)(!0);return}d()}n.onClose()}})},{modalKey:u.IN_APP_MEMBER_VERIFICATION_MODAL_KEY,onCloseRequest:()=>{d(),o.useMemberVerificationFormNoticeStore.getState().hasUnsubmittedChanges?(0,o.setShowWarning)(!0):(0,r.closeModal)(u.IN_APP_MEMBER_VERIFICATION_MODAL_KEY)},onCloseCallback:t})},closeMemberVerificationModal(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!e&&d(),(0,r.closeModal)(u.IN_APP_MEMBER_VERIFICATION_MODAL_KEY)}}},354460:function(e,t,n){"use strict";n.r(t),n.d(t,{getGuildFeatureFromUploadType:function(){return l},shouldShowPremiumIconForGIFPickerOption:function(){return a}});var i=n("49111"),r=n("75015");function l(e,t){let{isGIF:n}=t;if(e===r.UploadTypes.GUILD_BANNER)return n?i.GuildFeatures.ANIMATED_BANNER:i.GuildFeatures.BANNER}function a(e){return e===r.UploadTypes.AVATAR||e===r.UploadTypes.BANNER}},420333:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return D}}),n("222007");var i=n("37983"),r=n("884691"),l=n("446674"),a=n("77078"),o=n("812204"),u=n("685665"),s=n("473591"),d=n("634544"),c=n("694187"),f=n("305961"),E=n("162771"),_=n("697218"),p=n("471671"),T=n("887718"),h=n("818643"),S=n("216422"),I=n("599110"),g=n("719923"),A=n("354460"),C=n("424960"),N=n("49111"),m=n("75015"),v=n("991207"),R=n("782340"),O=n("461300");let y=[{gif:n("6916"),png:n("12412")},{gif:n("463095"),png:n("733105")},{gif:n("749003"),png:n("918927")},{gif:n("54400"),png:n("122574")}];function U(e){let{shouldAnimate:t=!0}=e,[n,l]=r.useState(!1);return(0,i.jsx)("div",{className:O.gifGrid,onMouseMove:()=>l(!0),onMouseLeave:()=>l(!1),children:y.map(e=>(0,i.jsx)("div",{className:O.gif,style:{backgroundImage:"url(".concat(t||n?e.gif:e.png,")")}},e.gif))})}function M(e){let{guildFeature:t,guild:n}=e;return null==t||null==n?null:(0,i.jsx)("div",{className:O.pillWrapper,children:(0,i.jsx)(d.default,{guildFeature:t,guild:n,hideTooltip:!0})})}function L(e){let{uploadType:t,guild:n,showNitroWheel:r}=e;return(0,i.jsxs)("div",{className:O.optionBoxText,children:[(0,i.jsx)(M,{guild:n,guildFeature:(0,A.getGuildFeatureFromUploadType)(t,{isGIF:!0})}),(0,i.jsxs)("div",{className:O.optionBoxDescription,children:[(0,A.shouldShowPremiumIconForGIFPickerOption)(t)&&(0,i.jsx)(a.TooltipContainer,{className:O.nitroWheelFlairContainer,text:R.default.Messages.PROFILE_CUSTOMIZATION_NITRO_ICON_TOOLTIP,children:r&&(0,i.jsx)(S.default,{className:O.nitroWheelFlair})}),R.default.Messages.SELECT_IMAGE_MODAL_CHOOSE_GIF]})]})}function P(e){let{title:t,uploadType:n,guild:r}=e;return(0,i.jsxs)("div",{className:O.optionBoxText,children:[(0,i.jsx)(M,{guildFeature:(0,A.getGuildFeatureFromUploadType)(n,{isGIF:!1}),guild:r}),(0,i.jsx)("div",{className:O.optionBoxDescription,children:t})]})}function D(e){let{transitionState:t,onClose:d,onComplete:S,uploadType:A,maxFileSizeBytes:y,showUpsellHeader:M,filters:D,analyticsLocation:w,analyticsLocations:F=[],modalSubTitle:b,imageSpecifications:x,modalTitle:V=R.default.Messages.SELECT_IMAGE_MODAL_TITLE,uploadOptionTitle:G=R.default.Messages.UPLOAD_IMAGE}=e,k=(0,l.useStateFromStores)([p.default],()=>p.default.isFocused()),B=(0,l.useStateFromStores)([_.default],()=>_.default.getCurrentUser()),H=(0,l.useStateFromStores)([E.default],()=>E.default.getGuildId()),j=(0,l.useStateFromStores)([f.default],()=>f.default.getGuild(H)),W=(0,l.useStateFromStores)([s.default],()=>s.default.isEditingClydeProfile()),{reducedMotion:z}=r.useContext(a.AccessibilityPreferencesContext),Y=(0,a.useModalContext)(),K=!g.default.canUseAnimatedAvatar(B)&&A===m.UploadTypes.AVATAR&&!W,{analyticsLocations:Z}=(0,u.default)(F,o.default.SELECT_IMAGE_MODAL);function X(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];d(),S(e,t,n)}return r.useEffect(()=>{K&&I.default.track(N.AnalyticEvents.PREMIUM_UPSELL_VIEWED,{type:N.AnalyticsSections.UPLOAD_FILE_OR_CHOOSE_GIF_MODAL,location_stack:Z}),I.default.track(N.AnalyticEvents.OPEN_MODAL,{type:N.AnalyticsSections.UPLOAD_FILE_OR_CHOOSE_GIF_MODAL,location:w})},[K,w,Z]),(0,i.jsxs)(a.ModalRoot,{transitionState:t,size:a.ModalSize.SMALL,children:[(0,i.jsxs)(a.ModalHeader,{className:O.modalHeader,separator:!1,children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(a.FormTitle,{tag:a.FormTitleTags.H1,className:O.modalTitle,children:V}),null!=b?(0,i.jsx)(a.Text,{variant:"text-md/normal",children:b}):null]}),(0,i.jsx)(a.ModalCloseButton,{onClick:d,className:O.modalCloseButton})]}),(0,i.jsxs)(a.ModalContent,{className:O.modalContent,children:[(0,i.jsxs)("div",{className:O.imagePickerContainer,children:[(0,i.jsxs)(a.Clickable,{className:O.optionBox,children:[(0,i.jsx)("div",{className:O.contentCircle,children:(0,i.jsx)(h.default,{className:O.uploadIcon})}),(0,i.jsx)(a.Text,{variant:"text-sm/semibold",color:"interactive-normal",children:(0,i.jsx)(P,{title:G,uploadType:A,guild:j})}),(0,i.jsx)(c.default,{onChange:function(e,t){if(t.type===v.FileTypes.MP4)return X(e,t);(0,a.openModalLazy)(async()=>{let{default:r}=await n.el("57015").then(n.bind(n,"57015"));return n=>(0,i.jsx)(r,{imgURI:e,file:t,onCrop:X,uploadType:A,showUpsellHeader:M,allowSkip:!0,analyticsPage:null==w?void 0:w.page,...n})},{contextKey:Y})},maxFileSizeBytes:y,onFileSizeError:function(){d(),(0,C.default)(y)},filters:D})]}),(0,i.jsxs)(a.Clickable,{className:O.optionBox,onClick:function(){(0,a.openModalLazy)(async()=>{let{default:e}=await n.el("646077").then(n.bind(n,"646077"));return t=>(0,i.jsx)(e,{uploadType:A,onComplete:(e,t)=>X(e,t,!0),showUpsellHeader:M,analyticsPage:null==w?void 0:w.page,...t})},{contextKey:Y})},children:[(0,i.jsxs)("div",{className:O.contentCircle,children:[(0,i.jsx)(U,{shouldAnimate:k&&!z.enabled}),(0,i.jsx)("div",{className:O.gifIconContainer,children:(0,i.jsx)(T.default,{className:O.gifIcon})})]}),(0,i.jsx)(a.Text,{variant:"text-sm/semibold",color:"interactive-normal",children:(0,i.jsx)(L,{uploadType:A,guild:j,showNitroWheel:!W})})]})]}),null!=x?(0,i.jsx)(a.Text,{className:O.imageSpecifications,variant:"text-sm/normal",children:x}):null]})]})}},424960:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var i=n("336522"),r=n("254490"),l=n("782340");function a(e){(0,i.openUploadError)({title:l.default.Messages.UPLOAD_AREA_TOO_LARGE_TITLE,help:l.default.Messages.UPLOAD_AREA_TOO_LARGE_HELP.format({maxSize:(0,r.sizeString)(e)})})}},479756:function(e,t,n){"use strict";n.r(t),n.d(t,{startImpersonating:function(){return S},updateImpersonating:function(){return I},stopImpersonating:function(){return g},updateImpersonatedChannels:function(){return C},updateImpersonatedRoles:function(){return N},updateImpersonatedData:function(){return m}}),n("222007");var i=n("913144"),r=n("716241"),l=n("393414"),a=n("42203"),o=n("923959"),u=n("26989"),s=n("305961"),d=n("957255"),c=n("18494"),f=n("282109"),E=n("599110"),_=n("38654"),p=n("507950"),T=n("49111"),h=n("724210");function S(e,t){E.default.track(T.AnalyticEvents.VIEW_AS_ROLES_SELECTED,{num_roles:Object.keys(t.roles).length,...(0,r.collectGuildAnalyticsMetadata)(e),is_viewing_as_member:t.type===p.ImpersonateType.NEW_MEMBER}),i.default.dispatch({type:"IMPERSONATE_UPDATE",guildId:e,data:t}),A(e)}function I(e,t){let n=_.default.getData(e);null!=n&&n.type===t.type&&(E.default.track(T.AnalyticEvents.VIEW_AS_ROLES_SELECTED,{num_roles:Object.keys(n.roles).length,...(0,r.collectGuildAnalyticsMetadata)(e),is_viewing_as_member:n.type===p.ImpersonateType.NEW_MEMBER}),i.default.dispatch({type:"IMPERSONATE_UPDATE",guildId:e,data:{...n,...t}}),A(e))}function g(e){i.default.dispatch({type:"IMPERSONATE_STOP",guildId:e})}function A(e){let t=c.default.getChannelId(e),n=a.default.getChannel(t),i=null!=t&&(0,h.isStaticChannelRoute)(t);if(!i&&!d.default.can(T.Permissions.VIEW_CHANNEL,n)){let t=o.default.getDefaultChannel(e);null!=t&&(0,l.transitionTo)(T.Routes.CHANNEL(e,t.id))}}function C(e,t,n){let i=new Set(f.default.getOptedInChannels(e));t.forEach(e=>i.add(e)),n.forEach(e=>i.delete(e)),I(e,{type:p.ImpersonateType.NEW_MEMBER,optInChannels:i})}function N(e,t){let n=s.default.getGuild(e);if(null==n)return;!function(e,t){let n=[...o.default.getSelectableChannelIds(e),...o.default.getVocalChannelIds(e)],i=Array.from(t);o.default.addConditionalChangeListener(()=>{let t=u.default.getSelfMember(e);if(null==t)return!1;if(i.some(e=>!t.roles.includes(e)))return!0;let r=[...o.default.getSelectableChannelIds(e),...o.default.getVocalChannelIds(e)],l=r.filter(e=>!n.includes(e));return l.length>0&&C(e,l,[]),!1})}(e,t);let i={};t.forEach(e=>i[e]=n.roles[e]),I(e,{type:p.ImpersonateType.NEW_MEMBER,roles:i})}function m(e,t){I(e,{type:p.ImpersonateType.NEW_MEMBER,...t})}},9294:function(e,t,n){"use strict";n.r(t),n.d(t,{generateInviteKeyFromUrlParams:function(){return a},generateInviteKeyFromExtraData:function(){return o},parseExtraDataFromInviteKey:function(){return u},parseInviteCodeFromInviteKey:function(){return s}}),n("222007");var i=n("522632"),r=n("833858");let l="event";function a(e,t){if(null==t)return e;let n=function(e){let t="?"===e.charAt(0)?e.substring(1):e;try{let e=i.parse(t);return(0,r.getFirstQueryStringValue)(e[l])}catch(e){return}}(t);return o({baseCode:e,guildScheduledEventId:n})}function o(e){let{baseCode:t,guildScheduledEventId:n}=e;return null==n?t:"".concat(t,"?").concat(l,"=").concat(n)}function u(e){let[t,n]=e.split("?");if(null==n)return{baseCode:t};let a=i.parse(n),o=(0,r.getFirstQueryStringValue)(a[l]);return{baseCode:t,guildScheduledEventId:o}}function s(e){let[t]=e.split("?");return t}},252931:function(e,t,n){"use strict";n.r(t),n.d(t,{getInventoryGuildPacksUserExperimentConfig:function(){return d},useInventoryGuildPacksUserExperiment:function(){return c},useInventoryGuildSettingsExperiment:function(){return E}});var i=n("65597"),r=n("862205"),l=n("697218"),a=n("719923"),o=n("782340");let u=(0,r.createExperiment)({kind:"user",id:"2023-05_inventory_guild_packs",label:"Inventory Guild Packs Experiment",defaultConfig:{desktopViewAndUseAndCollectEnabled:!1,mobileViewAndUseEnabled:!1,mobileAndFreemiumCollectEnabled:!1,autoUnfurlReactionTooltip:!1,collectOffOverride:!1},treatments:[{id:1,label:"Desktop view/use/collect",config:{desktopViewAndUseAndCollectEnabled:!0,mobileViewAndUseEnabled:!1,mobileAndFreemiumCollectEnabled:!1,autoUnfurlReactionTooltip:!1,collectOffOverride:!1}},{id:2,label:"Desktop view/use/collect and mobile view/use",config:{desktopViewAndUseAndCollectEnabled:!0,mobileViewAndUseEnabled:!0,mobileAndFreemiumCollectEnabled:!1,autoUnfurlReactionTooltip:!1,collectOffOverride:!1}},{id:3,label:"Read-only pack emoji for logged out users",config:{desktopViewAndUseAndCollectEnabled:!1,mobileViewAndUseEnabled:!1,mobileAndFreemiumCollectEnabled:!1,autoUnfurlReactionTooltip:!1,collectOffOverride:!1}},{id:4,label:"Mobile/desktop view/use/collect, and show Try Packs Modal",config:{desktopViewAndUseAndCollectEnabled:!0,mobileViewAndUseEnabled:!0,mobileAndFreemiumCollectEnabled:!0,autoUnfurlReactionTooltip:!1,collectOffOverride:!1}},{id:5,label:"Mobile/desktop view/use/collect, and show Try Packs Modal (second group)",config:{desktopViewAndUseAndCollectEnabled:!0,mobileViewAndUseEnabled:!0,mobileAndFreemiumCollectEnabled:!0,autoUnfurlReactionTooltip:!1,collectOffOverride:!1}},{id:6,label:"Non-nitro same as bucket 4 + auto-unfurl reactions",config:{desktopViewAndUseAndCollectEnabled:!0,mobileViewAndUseEnabled:!0,mobileAndFreemiumCollectEnabled:!0,autoUnfurlReactionTooltip:!0,collectOffOverride:!1}},{id:7,label:"Nitro same as bucket 4 + auto-unfurl reactions",config:{desktopViewAndUseAndCollectEnabled:!0,mobileViewAndUseEnabled:!0,mobileAndFreemiumCollectEnabled:!0,autoUnfurlReactionTooltip:!0,collectOffOverride:!1}},{id:8,label:"Collection off everywhere",config:{desktopViewAndUseAndCollectEnabled:!0,mobileViewAndUseEnabled:!0,mobileAndFreemiumCollectEnabled:!1,autoUnfurlReactionTooltip:!1,collectOffOverride:!0}}]}),s=e=>{let{user:t,config:n}=e,{desktopViewAndUseAndCollectEnabled:i,mobileViewAndUseEnabled:r,mobileAndFreemiumCollectEnabled:l,autoUnfurlReactionTooltip:o,collectOffOverride:u}=n,s=a.default.isPremium(t);return{viewAndUseEnabled:i,showTryPacksModalAndV2Copy:l,collectEnabled:!u&&(s?i:l),autoUnfurlReactionTooltip:o}},d=e=>{let{user:t,autoTrackExposure:n=!0}=e;return null==t?{viewAndUseEnabled:!1,showTryPacksModalAndV2Copy:!1,collectEnabled:!1,autoUnfurlReactionTooltip:!1}:s({user:t,config:u.getCurrentConfig({location:"inventory_guild_packs_experiment"},{autoTrackExposure:n})})},c=function(){var e;let{expressionSourceGuild:t,autoTrackExposure:n=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{expressionSourceGuild:void 0,autoTrackExposure:!0},r=(0,i.default)([l.default],()=>l.default.getCurrentUser()),a=u.useExperiment({location:"inventory_guild_setting_experiment"},{autoTrackExposure:n}),{viewAndUseEnabled:o,showTryPacksModalAndV2Copy:d,collectEnabled:c,autoUnfurlReactionTooltip:f}=s({user:r,config:a}),E=o&&c&&null!=t&&(null==t?void 0:null===(e=t.inventorySettings)||void 0===e?void 0:e.isEmojiPackCollectible)!==!1;return{viewAndUseEnabled:o,collectEnabled:E,showTryPacksModalAndV2Copy:d,autoUnfurlReactionTooltip:f}},f=(0,r.createExperiment)({kind:"guild",id:"2023-06_inventory_guild_setting",label:"Inventory Guild Settings Experiment",defaultConfig:{showSettingsToggle:!1,allowCollection:!1,getNewSettingsDescriptionLine1:()=>null,getNewSettingsDescriptionLine2:()=>null},treatments:[{id:1,label:"Show settings toggle, but collection is not allowed.",config:{showSettingsToggle:!0,allowCollection:!1,getNewSettingsDescriptionLine1:()=>null,getNewSettingsDescriptionLine2:()=>null}},{id:2,label:"Show settings toggle, and collection is allowed sometime in August.",config:{showSettingsToggle:!0,allowCollection:!0,getNewSettingsDescriptionLine1:()=>null,getNewSettingsDescriptionLine2:()=>null}},{id:3,label:"Show settings toggle, and collection is allowed in late August.",config:{showSettingsToggle:!0,allowCollection:!0,getNewSettingsDescriptionLine1:()=>null,getNewSettingsDescriptionLine2:()=>null}},{id:4,label:"Show settings toggle, allow collection for guild setting, and show rollback admin coachmark",config:{showSettingsToggle:!0,allowCollection:!0,getNewSettingsDescriptionLine1:()=>o.default.Messages.INVENTORY_NEW_SETTING_ROLLBACK_DESCRIPTION_LINE_1,getNewSettingsDescriptionLine2:()=>o.default.Messages.INVENTORY_NEW_SETTING_ROLLBACK_DESCRIPTION_LINE_2}}]}),E=function(){let{guildId:e,autoTrackExposure:t=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{guildId:void 0,autoTrackExposure:!0},n=f.useExperiment({guildId:null!=e?e:"",location:"482926_3"},{autoTrackExposure:void 0===t||t});return{showSettingsToggle:n.showSettingsToggle,allowCollection:n.allowCollection,getNewSettingsDescriptionLine1:n.getNewSettingsDescriptionLine1,getNewSettingsDescriptionLine2:n.getNewSettingsDescriptionLine2}}},649844:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var i=n("37983");n("884691");var r=n("748820"),l=n("77078"),a=n("112679"),o=n("55689"),u=n("676379"),s=n("697218"),d=n("599110"),c=n("659500"),f=n("719923"),E=n("49111"),_=n("646718");function p(e){let{initialPlanId:t,followupSKUInfo:p,onClose:T,onComplete:h,onSubscriptionConfirmation:S,analyticsLocations:I,analyticsObject:g,analyticsLocation:A,analyticsSourceLocation:C,isGift:N=!1,giftMessage:m,subscriptionTier:v,trialId:R,postSuccessGuild:O,openInvoiceId:y,applicationId:U,referralTrialOfferId:M,giftRecipient:L,returnRef:P}=null!=e?e:{},D=!1,w=(0,r.v4)(),F=s.default.getCurrentUser(),b=(0,f.isPremiumExactly)(F,_.PremiumTypes.TIER_2);(0,l.openModalLazy)(async()=>{let{default:e}=await n.el("646139").then(n.bind(n,"646139"));return n=>{let{onClose:r,...l}=n;return(0,i.jsx)(e,{...l,loadId:w,subscriptionTier:v,skuId:v,isGift:N,giftMessage:m,giftRecipient:L,initialPlanId:t,followupSKUInfo:p,onClose:(e,t)=>{r(),null==T||T(e),e&&(null==S||S(),!N&&null!=t&&t===_.PremiumSubscriptionSKUs.TIER_2&&!b&&c.ComponentDispatch.dispatch(E.ComponentActions.PREMIUM_SUBSCRIPTION_CREATED))},onComplete:()=>{D=!0,null==h||h(),!N&&(0,u.setCanPlayWowMoment)(!0)},onSubscriptionConfirmation:S,analyticsLocations:I,analyticsObject:g,analyticsLocation:A,analyticsSourceLocation:C,trialId:R,postSuccessGuild:O,planGroup:_.ORDERED_PREMIUM_SUBSCRIPTION_PLANS,openInvoiceId:y,applicationId:U,referralTrialOfferId:M,returnRef:P})}},{modalKey:"payment-modal",onCloseCallback:()=>{!D&&d.default.track(E.AnalyticEvents.PAYMENT_FLOW_CANCELED,{load_id:w,payment_type:E.PurchaseTypeToAnalyticsPaymentType[E.PurchaseTypes.SUBSCRIPTION],location:null!=A?A:g,source:C,subscription_type:E.SubscriptionTypes.PREMIUM,is_gift:N,eligible_for_trial:null!=R,application_id:U,location_stack:I}),(0,a.clearError)(),(0,o.clearPurchaseTokenAuthState)(),null==T||T(D),D&&(null==S||S())},onCloseRequest:E.NOOP})}},676379:function(e,t,n){"use strict";n.r(t),n.d(t,{setCanPlayWowMoment:function(){return r}});var i=n("913144");let r=e=>{i.default.dispatch({type:"PURCHASED_ITEMS_FESTIVITY_SET_CAN_PLAY_WOW_MOMENT",value:e})}},15733:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var i=n("884691"),r=n("446674"),l=n("913144"),a=n("850068"),o=n("271938"),u=n("160299"),s=n("357957");function d(){let e=(0,r.useStateFromStores)([s.default],()=>s.default.getDefaultBillingCountryCode()),t=(0,r.useStateFromStores)([u.default],()=>u.default.ipCountryCode),n=(0,r.useStateFromStores)([o.default],()=>o.default.isAuthenticated());return i.useEffect(()=>{l.default.wait(()=>{n&&!u.default.isPaymentSourceFetching&&!s.default.hasFetchedPaymentSources&&a.fetchPaymentSources()})},[n]),i.useEffect(()=>{n&&!u.default.ipCountryCodeLoaded&&a.fetchIpCountryCode()},[t,n]),{defaultBillingCountryCode:e,ipCountryCode:t}}},906932:function(e,t,n){"use strict";n.r(t),n.d(t,{useAvatarsWithGuilds:function(){return u},setNewPendingUserBio:function(){return s},setNewPendingAvatar:function(){return d},setNewPendingAvatarDecoration:function(){return c},setNewPendingProfileEffectId:function(){return f},getProfilePreviewField:function(){return E},showRemoveAvatar:function(){return _},showRemoveBanner:function(){return p}}),n("424973");var i=n("884691"),r=n("152584"),l=n("234251"),a=n("783142"),o=n("26989");function u(e){return i.useMemo(()=>{let t=o.default.getMutableAllGuildsAndMembers(),n={};for(let r in t){var i;let l=t[r],a=null===(i=l[e])||void 0===i?void 0:i.avatar;null!=a&&(null==n[a]&&(n[a]=[]),n[a].push(r))}return null!=n?Object.entries(n).map(e=>e[1][0]):[]},[e])}function s(e,t){(0,a.setPendingBio)(e===t?void 0:e)}function d(e,t){(0,r.setPendingAvatar)(e===t?void 0:e)}function c(e,t){if((0,l.isEqualAvatarDecoration)(e,null!=t?t:null)){(0,r.setPendingAvatarDecoration)(void 0);return}(0,r.setPendingAvatarDecoration)(e)}function f(e,t){if(e===t){(0,r.setPendingProfileEffectId)(void 0);return}(0,r.setPendingProfileEffectId)(e)}function E(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null!=e)return""===e?{value:i?n:null,isUsingGuildValue:!1}:{value:e,isUsingGuildValue:i};return null!=t&&""!==t?{value:t,isUsingGuildValue:!0}:{value:n,isUsingGuildValue:!1}}function _(e,t){return void 0===e?null!=t:null!=e}function p(e,t){return void 0===e?null!=t:null!=e}},846325:function(e,t,n){"use strict";var i,r;n.r(t),n.d(t,{MAX_LENGTH_SOUND_NAME:function(){return l},MAX_SOUND_LENGTH_SECONDS:function(){return a},DEFAULT_SOUND_GUILD_ID:function(){return o},SoundboardWheelSize:function(){return u},DEFAULT_KEYBIND:function(){return s},EMPTY_SOUND_LIST:function(){return d},CUSTOM_CALL_SOUND_GLOBAL_GUILD_ID:function(){return c},NUM_RECENTLY_HEARD_SOUNDS:function(){return f},NUM_FREQUENTLY_USED_SOUNDS:function(){return E}}),n("222007");let l=32,a=5,o="DEFAULT";(r=i||(i={}))[r.SUCCESS=0]="SUCCESS",r[r.INTERRUPTED=1]="INTERRUPTED";let u={width:424,height:424,padding:100},s="ctrl+`",d=[],c="0",f=6,E=6},235004:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return U}}),n("222007"),n("424973"),n("834022");var i,r,l=n("917351"),a=n.n(l),o=n("446674"),u=n("913144"),s=n("845579"),d=n("374363"),c=n("697218"),f=n("599110"),E=n("829536"),_=n("846325"),p=n("49111"),T=n("397336");(r=i||(i={}))[r.NOT_FETCHED=0]="NOT_FETCHED",r[r.FETCHING=1]="FETCHING",r[r.FETCHED=2]="FETCHED";let h=new Map,S=new Map,I=new Set,g=0,A=0,C=new Set,N=new Map,m=!1;function v(e){let{sound:t}=e,n=h.get(t.guildId),i=null==n?void 0:n.findIndex(e=>e.soundId===t.soundId);null!=n&&null!=i&&-1!==i?(n[i]=t,h.set(t.guildId,[...n])):null!=n&&(null==n||n.push(t),h.set(t.guildId,[...n]))}let R=a.debounce(e=>{f.default.track(p.AnalyticEvents.UPDATE_SOUNDBOARD_SETTINGS,{volume:Math.round((0,E.amplitudeToPerceptual)(e))}),s.SoundboardSettings.updateSetting({volume:e})},1e3);function O(e){var t,n;let i=null!==(n=null==e?void 0:null===(t=e.audioContextSettings)||void 0===t?void 0:t.user)&&void 0!==n?n:{};for(let[e,t]of Object.entries(i))t.soundboardMuted?I.add(e):I.delete(e);for(let e of I.keys())null==i[e]&&I.delete(e)}class y extends o.default.Store{initialize(){this.waitFor(d.default),O(d.default.settings)}getOverlaySerializedState(){return{soundboardSounds:Object.fromEntries(h),favoritedSoundIds:Array.from(C),localSoundboardMutes:Array.from(I)}}getSounds(){return h}getSoundsForGuild(e){return h.get(e)}getSound(e,t){var n;let i=null!==(n=h.get(e))&&void 0!==n?n:[];return i.find(e=>e.soundId===t)}getSoundById(e){let t=Array.from(h.values()).flat();return t.find(t=>t.soundId===e)}isFetchingSounds(){return 1===A}isFetchingDefaultSounds(){return 1===g}isFetching(){return this.isFetchingSounds()||this.isFetchingDefaultSounds()}shouldFetchDefaultSounds(){return 0===g}hasFetchedDefaultSounds(){return 2===g}isUserPlayingSounds(e){let t=N.get(e);return null!=t&&t>0}isPlayingSound(e){return null!=S.get(e)}isFavoriteSound(e){return C.has(e)}getFavorites(){return C}isLocalSoundboardMuted(e){return I.has(e)}hasHadOtherUserPlaySoundInSession(){return m}hasFetchedAllSounds(){return 2===A&&2===g}}y.displayName="SoundboardStore";var U=new y(u.default,{LOGOUT:function(){h.clear(),S.clear(),N.clear(),m=!1,A=0,g=0},GUILD_SOUNDBOARD_FETCH:function(){A=1},GUILD_SOUNDBOARD_SOUND_CREATE:v,GUILD_SOUNDBOARD_SOUND_UPDATE:v,GUILD_SOUNDBOARD_SOUND_DELETE:function(e){let{soundId:t,guildId:n}=e;h.delete(t);let i=h.get(n),r=null==i?void 0:i.findIndex(e=>e.soundId===t);null!=i&&null!=r&&!(r<0)&&(i.splice(r,1),h.set(n,[...i]))},GUILD_SOUNDBOARD_SOUND_PLAY_START:function(e){var t,n,i;let{soundId:r,userId:l}=e,a=(null!==(n=S.get(r))&&void 0!==n?n:0)+1,o=(null!==(i=N.get(l))&&void 0!==i?i:0)+1;S.set(r,a),N.set(l,o),l!==(null===(t=c.default.getCurrentUser())||void 0===t?void 0:t.id)&&(m=!0)},GUILD_SOUNDBOARD_SOUND_PLAY_END:function(e){var t,n;let{soundId:i,userId:r}=e,l=(null!==(t=S.get(i))&&void 0!==t?t:0)-1,a=(null!==(n=N.get(r))&&void 0!==n?n:0)-1;l<=0?S.delete(i):S.set(i,l),a<=0?N.delete(r):N.set(r,a)},USER_SOUNDBOARD_SET_VOLUME:function(e){let{volume:t}=e;R(t)},VOICE_CHANNEL_SELECT:function(){S.clear(),N.clear()},USER_SETTINGS_PROTO_UPDATE:function(e){let{settings:t}=e,{type:n,proto:i}=t;if(n===T.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS){var r,l;C=new Set(null!==(l=null==i?void 0:null===(r=i.favoriteSoundboardSounds)||void 0===r?void 0:r.soundIds)&&void 0!==l?l:[])}else n===T.UserSettingsTypes.PRELOADED_USER_SETTINGS&&O(i)},SOUNDBOARD_FETCH_DEFAULT_SOUNDS:function(){g=1},SOUNDBOARD_FETCH_DEFAULT_SOUNDS_SUCCESS:function(e){let{soundboardSounds:t}=e;h.set(_.DEFAULT_SOUND_GUILD_ID,t),g=2},SOUNDBOARD_SOUNDS_RECEIVED:function(e){let{updates:t}=e;t.forEach(e=>{let{guildId:t,sounds:n}=e;h.set(t,n)}),A=2},GUILD_DELETE:function(e){let{guild:t}=e;h.delete(t.id)},AUDIO_TOGGLE_LOCAL_SOUNDBOARD_MUTE:function(e){let{userId:t}=e;I.has(t)?I.delete(t):I.add(t)},OVERLAY_INITIALIZE:function(e){let{soundboardStoreState:t}=e;h=new Map(Object.entries(t.soundboardSounds)),C=new Set(t.favoritedSoundIds),I=new Set(t.localSoundboardMutes)},GUILD_SOUNDBOARD_SOUNDS_UPDATE:function(e){let{guildId:t,soundboardSounds:n}=e;h.set(t,n)}})},866353:function(e,t,n){"use strict";n.r(t),n.d(t,{StickerSendability:function(){return r},getStickerSendability:function(){return s},isSendableSticker:function(){return d}});var i,r,l=n("991170"),a=n("719923"),o=n("24373"),u=n("49111");(i=r||(r={}))[i.SENDABLE=0]="SENDABLE",i[i.SENDABLE_WITH_PREMIUM=1]="SENDABLE_WITH_PREMIUM",i[i.NONSENDABLE=2]="NONSENDABLE",i[i.SENDABLE_WITH_BOOSTED_GUILD=3]="SENDABLE_WITH_BOOSTED_GUILD";let s=(e,t,n)=>{if(null==t)return 2;let i=a.default.canUseCustomStickersEverywhere(t);if((0,o.isStandardSticker)(e))return 0;if((0,o.isGuildSticker)(e)&&null!=n)return e.available?null!=n.guild_id&&""!==n.guild_id&&n.guild_id===e.guild_id?0:null==n.guild_id||l.default.can({permission:u.Permissions.USE_EXTERNAL_STICKERS,user:t,context:n})?i?0:1:2:3;return 2},d=(e,t,n)=>0===s(e,t,n)},865372:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}}),n("424973");var i=n("917351"),r=n.n(i),l=n("446674"),a=n("913144"),o=n("80507"),u=n("374363"),s=n("364685"),d=n("49111"),c=n("397336");let f={pendingUsages:[]};d.Durations.DAY;let E=new o.default({computeBonus:()=>100,computeWeight:e=>{let t=0;return e<=3?t=100:e<=15?t=70:e<=30?t=50:e<=45?t=30:e<=80&&(t=10),t},lookupKey:e=>s.default.getStickerById(e),afterCompute:()=>{},numFrequentlyItems:20}),_=()=>{s.default.isLoaded&&E.compute()},p=()=>{_()};function T(){var e;let t=null===(e=u.default.frecencyWithoutFetchingLatest.stickerFrecency)||void 0===e?void 0:e.stickers;if(null==t)return!1;E.overwriteHistory(r.mapValues(t,e=>({...e,recentUses:e.recentUses.map(Number).filter(e=>e>0)})),f.pendingUsages)}class h extends l.default.PersistedStore{initialize(e){this.waitFor(s.default),null!=e&&(f=e),this.syncWith([s.default],p),this.syncWith([u.default],T)}getState(){return f}hasPendingUsage(){return f.pendingUsages.length>0}get stickerFrecencyWithoutFetchingLatest(){return E}}h.displayName="StickersPersistedStore",h.persistKey="StickersPersistedStoreV2";var S=new h(a.default,{STICKER_TRACK_USAGE:e=>{let{stickerIds:t}=e;null==t||t.forEach(e=>{E.track(e),f.pendingUsages.push({key:e,timestamp:Date.now()})}),_()},USER_SETTINGS_PROTO_UPDATE:function(e){let{settings:{type:t},wasSaved:n}=e;if(t!==c.UserSettingsTypes.FRECENCY_AND_FAVORITES_SETTINGS||!n)return!1;f.pendingUsages=[]}})},783142:function(e,t,n){"use strict";n.r(t),n.d(t,{saveProfileChanges:function(){return E},handleProfileAccessibilityTooltipViewed:function(){return _},resetPendingProfileChanges:function(){return p},setPendingBanner:function(){return T},setPendingBio:function(){return h},setPendingPronouns:function(){return S},setPendingAccentColor:function(){return I},setPendingThemeColors:function(){return g},setTryItOutAvatar:function(){return A},setTryItOutAvatarDecoration:function(){return C},setTryItOutProfileEffect:function(){return N},setTryItOutBanner:function(){return m},setTryItOutThemeColors:function(){return v}});var i=n("872717"),r=n("913144"),l=n("448993"),a=n("884351"),o=n("845579"),u=n("697218"),s=n("599110"),d=n("49111"),c=n("646718");function f(e){s.default.track(d.AnalyticEvents.PREMIUM_FEATURE_TRY_OUT,{feature_name:e,feature_tier:c.AnalyticsPremiumFeatureTiers.PREMIUM_STANDARD})}async function E(e,t){var n,s;let c=null===(n=u.default.getCurrentUser())||void 0===n?void 0:n.id;if(null==c)return;let f=o.UseLegacyChatInput.getSetting();null!=e.bio&&f&&(e.bio=a.default.parse(void 0,e.bio).content);try{r.default.dispatch({type:"USER_PROFILE_UPDATE_START",userId:c});let n=await i.default.patch({url:null!=t?d.Endpoints.GUILD_PROFILE(t,d.ME):d.Endpoints.USER_PROFILE(d.ME),body:e});if(n.ok){let e=null===(s=n.body.profile_effect)||void 0===s?void 0:s.id;r.default.dispatch({type:"USER_PROFILE_UPDATE_SUCCESS",userId:c,profileEffectId:e,...n.body})}else{let e=new l.APIError(n);r.default.dispatch({type:"USER_PROFILE_UPDATE_FAILURE",errors:n.body,apiError:e})}return n}catch(t){let e=new l.APIError(t);r.default.dispatch({type:"USER_PROFILE_UPDATE_FAILURE",errors:{},apiError:e})}}function _(){r.default.dispatch({type:"USER_PROFILE_ACCESSIBILITY_TOOLTIP_VIEWED"})}function p(){r.default.dispatch({type:"USER_SETTINGS_RESET_PENDING_PROFILE_CHANGES"})}function T(e){r.default.dispatch({type:"USER_SETTINGS_ACCOUNT_SET_PENDING_BANNER",banner:e})}function h(e){r.default.dispatch({type:"USER_SETTINGS_ACCOUNT_SET_PENDING_BIO",bio:e})}function S(e){r.default.dispatch({type:"USER_SETTINGS_ACCOUNT_SET_PENDING_PRONOUNS",pronouns:e})}function I(e){r.default.dispatch({type:"USER_SETTINGS_ACCOUNT_SET_PENDING_ACCENT_COLOR",color:e})}function g(e){r.default.dispatch({type:"USER_SETTINGS_ACCOUNT_SET_PENDING_THEME_COLORS",themeColors:e})}function A(e){r.default.dispatch({type:"USER_SETTINGS_ACCOUNT_SET_TRY_IT_OUT_AVATAR",avatar:e}),f(c.AnalyticsPremiumFeatureNames.ANIMATED_AVATAR)}function C(e){r.default.dispatch({type:"USER_SETTINGS_ACCOUNT_SET_TRY_IT_OUT_AVATAR_DECORATION",avatarDecoration:e}),f(c.AnalyticsPremiumFeatureNames.AVATAR_DECORATION)}function N(e){r.default.dispatch({type:"USER_SETTINGS_ACCOUNT_SET_TRY_IT_OUT_PROFILE_EFFECT_ID",profileEffectId:e}),f(c.AnalyticsPremiumFeatureNames.PROFILE_EFFECT)}function m(e){r.default.dispatch({type:"USER_SETTINGS_ACCOUNT_SET_TRY_IT_OUT_BANNER",banner:e}),f(c.AnalyticsPremiumFeatureNames.PROFILE_BANNER)}function v(e){r.default.dispatch({type:"USER_SETTINGS_ACCOUNT_SET_TRY_IT_OUT_THEME_COLORS",themeColors:e}),f(c.AnalyticsPremiumFeatureNames.PROFILE_THEME_COLOR)}},517763:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}}),n("702976");var i,r=n("866227"),l=n.n(r),a=n("666038");i=class e extends a.default{static createFromServer(t){var n;return new e({...t,maxUses:t.max_uses,maxAge:t.max_age,createdAt:l(null!==(n=t.created_at)&&void 0!==n?n:void 0),targetType:t.target_type,targetUser:t.target_user,targetApplication:t.target_application})}isExpired(){let e=this.maxAge;if(e>0){let t=l(this.createdAt);if(t.add(e,"seconds").isBefore(Date.now()))return!0}return!1}getExpiresAt(){if(this.maxAge>0){let e=l(this.createdAt);return e.add(this.maxAge,"seconds").toDate()}return 1/0}toString(){return this.code}constructor(e){super(),this.code=e.code||"",this.temporary=e.temporary||!1,this.revoked=e.revoked||!1,this.uses=e.uses||0,this.maxUses=e.maxUses||0,this.maxAge=e.maxAge||0,this.createdAt=e.createdAt||new Date,this.channel=e.channel,this.guild=e.guild,this.inviter=e.inviter||null,this.targetType=e.targetType||null,this.targetUser=e.targetUser||null,this.targetApplication=e.targetApplication||null,this.type=e.type||null,this.flags=e.flags||0}}},337543:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}}),n("702976");var i=n("446674"),r=n("913144"),l=n("9294"),a=n("49111");let o={},u={},s={};function d(e,t){var n;e=null!=e?e:"";let i=(0,l.parseExtraDataFromInviteKey)(e),r=o[e],u=null!=r?{state:a.InviteStates.RESOLVING,...r}:{state:a.InviteStates.RESOLVING,code:i.baseCode};t(u),o={...o,[e]:u},(null===(n=u.guild)||void 0===n?void 0:n.id)!=null&&(s={...s,[u.guild.id]:e})}function c(e){return d(e.code,t=>{t.state="banned"in e&&e.banned?a.InviteStates.BANNED:a.InviteStates.EXPIRED})}class f extends i.default.Store{getInvite(e){return o[e]}getInviteError(e){return u[e]}getInvites(){return o}getInviteKeyForGuildId(e){return s[e]}}f.displayName="InviteStore";var E=new f(r.default,{INVITE_RESOLVE:function(e){let{code:t}=e,n=(0,l.parseExtraDataFromInviteKey)(t);o={...o,[t]:{code:n.baseCode,state:a.InviteStates.RESOLVING}}},INVITE_RESOLVE_SUCCESS:function(e){return d(e.code,t=>{var n,i;t.state=a.InviteStates.RESOLVED,t.guild=e.invite.guild,t.channel=e.invite.channel,t.inviter=e.invite.inviter,t.approximate_member_count=null!==(n=e.invite.approximate_member_count)&&void 0!==n?n:null,t.approximate_presence_count=null!==(i=e.invite.approximate_presence_count)&&void 0!==i?i:null,t.target_type=e.invite.target_type,t.target_user=e.invite.target_user,t.target_application=e.invite.target_application,t.expires_at=e.invite.expires_at,t.stage_instance=e.invite.stage_instance,t.friends_count=e.invite.friends_count,t.is_contact=e.invite.is_contact,t.guild_scheduled_event=e.invite.guild_scheduled_event,t.type=e.invite.type,t.flags=e.invite.flags})},INVITE_RESOLVE_FAILURE:c,INSTANT_INVITE_REVOKE_SUCCESS:c,FRIEND_INVITE_CREATE_SUCCESS:function(e){return d(e.invite.code,t=>{t.state=a.InviteStates.RESOLVED,t.inviter=e.invite.inviter})},FRIEND_INVITE_REVOKE_SUCCESS:function(e){e.invites.forEach(e=>d(e.code,e=>{e.state=a.InviteStates.EXPIRED}))},INSTANT_INVITE_CREATE_SUCCESS:function(e){return d(e.invite.code,t=>{var n,i;t.state=a.InviteStates.RESOLVED,t.guild=e.invite.guild,t.channel=e.invite.channel,t.inviter=e.invite.inviter,t.approximate_member_count=null!==(n=e.invite.approximate_member_count)&&void 0!==n?n:null,t.approximate_presence_count=null!==(i=e.invite.approximate_presence_count)&&void 0!==i?i:null,t.target_type=e.invite.target_type,t.target_user=e.invite.target_user,t.target_application=e.invite.target_application,t.stage_instance=e.invite.stage_instance,t.guild_scheduled_event=e.invite.guild_scheduled_event,t.type=e.invite.type})},INVITE_ACCEPT:function(e){return d(e.code,e=>{e.state=a.InviteStates.ACCEPTING})},INVITE_ACCEPT_SUCCESS:function(e){return d(e.code,t=>{t.state=a.InviteStates.ACCEPTED,t.guild=e.invite.guild,t.new_member=e.invite.new_member,t.channel={...t.channel,...e.invite.channel}})},INVITE_ACCEPT_FAILURE:function(e){return u[e.code]=e.error,d(e.code,e=>{e.state=a.InviteStates.ERROR})},INVITE_APP_OPENING:function(e){return d(e.code,e=>{e.state=a.InviteStates.APP_OPENING})},INVITE_APP_OPENED:function(e){return d(e.code,e=>{e.state=a.InviteStates.APP_OPENED})},INVITE_APP_NOT_OPENED:function(e){return d(e.code,e=>{e.state=a.InviteStates.APP_NOT_OPENED})}})},471671:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}}),n("222007");var i=n("627445"),r=n.n(i),l=n("446674"),a=n("913144"),o=n("816454");let u=new Map;function s(e){let t=u.get(e);return null==t?(console.warn("Window state not initialized",e),{isElementFullscreen:!1,focused:!1,windowSize:{width:0,height:0}}):t}class d extends l.default.Store{isFocused(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.getMainWindowId)();return s(e).focused}getFocusedWindowId(){let e=null;return u.forEach((t,n)=>{t.focused&&(e=n)}),e}isElementFullScreen(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.getMainWindowId)();return s(e).isElementFullscreen}windowSize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.getMainWindowId)();return s(e).windowSize}}d.displayName="WindowStore";let c=new d(a.default,{WINDOW_INIT:function(e){r(!u.has(e.windowId),"Window initialized multiple times");let{width:t,height:n,isElementFullscreen:i,focused:l}=e;return u.set(e.windowId,{windowSize:{width:t,height:n},isElementFullscreen:i,focused:l}),!0},WINDOW_FULLSCREEN_CHANGE:function(e){let t=s(e.windowId);return t.isElementFullscreen!==e.isElementFullscreen&&(u.set(e.windowId,{...t,isElementFullscreen:e.isElementFullscreen}),!0)},WINDOW_FOCUS:function(e){let t=s(e.windowId);return t.focused!==e.focused&&(u.set(e.windowId,{...t,focused:e.focused}),!0)},WINDOW_RESIZED:function(e){let t=s(e.windowId);return(t.windowSize.width!==e.width||t.windowSize.height!==e.height)&&(u.set(e.windowId,{...t,windowSize:{width:e.width,height:e.height}}),!0)},WINDOW_UNLOAD:function(e){return u.delete(e.windowId),!0}});n.el("599110").then(n.bind(n,"599110")).then(e=>{let{addExtraAnalyticsDecorator:t}=e;t(e=>{e.client_app_state=c.isFocused()?"focused":"unfocused"})});var f=c},181114:function(e,t,n){"use strict";n.r(t),n.d(t,{Shine:function(){return T},default:function(){return S}});var i,r,l=n("37983"),a=n("884691"),o=n("414456"),u=n.n(o),s=n("458960"),d=n("77078"),c=n("252744"),f=n("145131"),E=n("396792");(i=r||(r={})).DEFAULT="default",i.SMALL="small";let _={default:E.shineDefault,small:E.shineSmall},p={default:E.shineInnerDefault,small:E.shineInnerSmall};class T extends a.PureComponent{render(){let{className:e,shineSize:t,shinePaused:n,...i}=this.props;return(0,l.jsx)(s.default.div,{...i,className:u(E.shineContainer,e,{[E.shinePaused]:n}),children:(0,l.jsx)(f.default,{align:f.default.Align.CENTER,justify:f.default.Justify.CENTER,className:_[t],children:(0,l.jsx)("div",{className:p[t]})})})}}T.defaultProps={shineSize:"default"};let h=e=>{let{children:t,className:n,disabled:i,submitting:r,pauseAnimation:o,shineSize:s="default",shinePaused:f,buttonShineClassName:_,onlyShineOnHover:p,...h}=e,S=a.createRef(),I=(0,c.default)(S),g=!i&&!r&&!0!==o&&(!p||I);return(0,l.jsxs)(d.Button,{buttonRef:S,...h,className:u(E.shinyButton,n),disabled:i,submitting:r,children:[t,g?(0,l.jsx)(T,{shinePaused:f,className:u(E.buttonShine,p?E.onlyShineOnHover:void 0,_),shineSize:s}):null]})};h.ShineSizes=r;var S=h},887718:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var i=n("37983");n("884691");var r=n("469563"),l=n("666031"),a=n("75196"),o=(0,r.replaceIcon)(function(e){let{width:t=29,height:n=22,color:r="currentColor",backgroundColor:l,...o}=e;return(0,i.jsx)("svg",{...(0,a.default)(o),width:t,height:n,viewBox:"0 0 29 22",children:(0,i.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,i.jsx)("rect",{width:t,height:n,fill:l,fillOpacity:".8",rx:"3"}),(0,i.jsx)("path",{d:"M8.01725 16.7054C7.17625 16.7054 6.43191 16.4879 5.78425 16.0529C5.13658 15.6179 4.63391 15.0089 4.27625 14.2259C3.91858 13.4333 3.73975 12.5246 3.73975 11.4999C3.73975 10.4849 3.92825 9.58593 4.30525 8.80293C4.69191 8.01993 5.24775 7.4061 5.97275 6.96143C6.70741 6.51677 7.58225 6.29443 8.59725 6.29443C9.45758 6.29443 10.2261 6.4781 10.9027 6.84543C11.5891 7.21277 12.1062 7.72993 12.4542 8.39693L10.8157 9.57143C10.3227 8.66277 9.58808 8.20843 8.61175 8.20843C7.72241 8.20843 7.04091 8.49843 6.56725 9.07843C6.09358 9.64877 5.85675 10.4559 5.85675 11.4999C5.85675 12.5536 6.09358 13.3656 6.56725 13.9359C7.04091 14.5063 7.72241 14.7914 8.61175 14.7914C9.00808 14.7914 9.37058 14.7189 9.69925 14.5739C10.0376 14.4193 10.2986 14.2114 10.4822 13.9504V12.7034H8.17675V10.8184H12.5412V16.5024H10.8302L10.5547 15.5454C9.98441 16.3188 9.13858 16.7054 8.01725 16.7054Z",fill:r}),(0,i.jsx)("path",{d:"M16.5444 16.5024H14.4274V6.49743H16.5444V16.5024Z",fill:r}),(0,i.jsx)("path",{d:"M20.6933 16.5024H18.5763V6.49743H25.2608V8.41143H20.6933V10.7894H24.4053V12.7034H20.6933V16.5024Z",fill:r})]})})},l.GifIcon,void 0,{size:29})},978679:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var i=n("37983");n("884691");var r=n("469563"),l=n("998460"),a=n("75196"),o=(0,r.replaceIcon)(function(e){let{width:t=24,height:n=24,color:r="currentColor",foreground:l,...o}=e;return(0,i.jsx)("svg",{width:t,height:n,...(0,a.default)(o),viewBox:"0 0 24 24",children:(0,i.jsx)("path",{fill:r,className:l,fillRule:"evenodd",clipRule:"evenodd",d:"M16.886 7.999H20C21.104 7.999 22 8.896 22 9.999V11.999H2V9.999C2 8.896 2.897 7.999 4 7.999H7.114C6.663 7.764 6.236 7.477 5.879 7.121C4.709 5.951 4.709 4.048 5.879 2.879C7.012 1.746 8.986 1.746 10.121 2.877C11.758 4.514 11.979 7.595 11.998 7.941C11.9991 7.9525 11.9966 7.96279 11.9941 7.97304C11.992 7.98151 11.99 7.98995 11.99 7.999H12.01C12.01 7.98986 12.0079 7.98134 12.0058 7.97287C12.0034 7.96282 12.0009 7.95286 12.002 7.942C12.022 7.596 12.242 4.515 13.879 2.878C15.014 1.745 16.986 1.746 18.121 2.877C19.29 4.049 19.29 5.952 18.121 7.121C17.764 7.477 17.337 7.764 16.886 7.999ZM7.293 5.707C6.903 5.316 6.903 4.682 7.293 4.292C7.481 4.103 7.732 4 8 4C8.268 4 8.519 4.103 8.707 4.292C9.297 4.882 9.641 5.94 9.825 6.822C8.945 6.639 7.879 6.293 7.293 5.707ZM14.174 6.824C14.359 5.941 14.702 4.883 15.293 4.293C15.481 4.103 15.732 4 16 4C16.268 4 16.519 4.103 16.706 4.291C17.096 4.682 17.097 5.316 16.707 5.707C16.116 6.298 15.057 6.642 14.174 6.824ZM3 13.999V19.999C3 21.102 3.897 21.999 5 21.999H11V13.999H3ZM13 13.999V21.999H19C20.104 21.999 21 21.102 21 19.999V13.999H13Z"})})},l.GiftIcon,void 0,{size:24})},818643:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var i=n("37983");n("884691");var r=n("469563"),l=n("851298"),a=n("75196"),o=(0,r.replaceIcon)(function(e){let{width:t=24,height:n=24,color:r="currentColor",...l}=e;return(0,i.jsxs)("svg",{...(0,a.default)(l),width:t,height:n,viewBox:"0 0 24 24",fill:"none",children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.2899 2L6 2C3.79086 2 2 3.79086 2 6V18C2 20.2091 3.79086 22 6 22H18C20.2091 22 22 20.2091 22 18V10.7101C21.3663 10.8987 20.695 11 20 11C16.134 11 13 7.86599 13 4C13 3.30503 13.1013 2.63371 13.2899 2ZM8 6C9.1032 6 10 6.8952 10 8C10 9.1056 9.1032 10 8 10C6.8944 10 6 9.1056 6 8C6 6.8952 6.8944 6 8 6ZM6 18L9 14L11 16L15 11L18 18H6Z",fill:r}),(0,i.jsx)("path",{d:"M21 0V3H24V5H21V8H19V5H16V3H19V0H21Z",fill:r})]})},l.ImagePlusIcon,void 0,{size:24})},486952:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var i=n("37983");n("884691");var r=n("469563"),l=n("276825"),a=n("75196"),o=(0,r.replaceIcon)(function(e){let{width:t=16,height:n=16,color:r="currentColor",...l}=e;return(0,i.jsx)("svg",{...(0,a.default)(l),width:t,height:n,viewBox:"0 0 16 15.2",children:(0,i.jsx)("path",{d:"M7.4,11.17,4,8.62,5,7.26l2,1.53L10.64,4l1.36,1Z",fill:r})})},l.CheckmarkSmallIcon,void 0,{size:16})},103603:function(e,t,n){"use strict";n.r(t),n.d(t,{fit:function(){return s},zoomFit:function(){return d},getRatio:function(){return c},getCoverRatio:function(){return f},makeCssUrlString:function(){return E},getPalette:function(){return p},getPaletteForAvatar:function(){return T},readFileAsBase64:function(){return S},dataUriFileSize:function(){return I},dataUrlToFile:function(){return g},isPNGAnimated:function(){return A}}),n("424973"),n("101997"),n("311790"),n("477657"),n("811875"),n("90301"),n("652153"),n("28797"),n("817884"),n("597349"),n("667536"),n("690341"),n("70102");var i=n("627445"),r=n.n(i),l=n("917351"),a=n.n(l),o=n("48648"),u=n.n(o);function s(e){let{width:t,height:n,maxWidth:i,maxHeight:r,minWidth:l=0,minHeight:a=0}=e;if(t!==i||n!==r){let e=t>i?i/t:1;t=Math.max(Math.round(t*e),l),n=Math.max(Math.round(n*e),a);let o=n>r?r/n:1;t=Math.max(Math.round(t*o),l),n=Math.max(Math.round(n*o),a)}return{width:t,height:n}}function d(e,t){let n=Math.min(Math.round(.65*window.innerHeight),2e3),i=Math.min(Math.round(.75*window.innerWidth),2e3);return s({width:e,height:t,maxWidth:i,maxHeight:n})}function c(e){let{width:t,height:n,maxWidth:i,maxHeight:r}=e,l=1;t>i&&(l=i/t),t=Math.round(t*l);let a=1;return(n=Math.round(n*l))>r&&(a=r/n),Math.min(l*a,1)}function f(e){let{width:t,height:n,maxWidth:i,maxHeight:r}=e;return t===n?1:Math.min(Math.max(i/t,r/n),1)}function E(e){return null==e||""===e?"none":"url(".concat(e,")")}let _=[[0,0,0]];function p(e,t,n){let i=document.createElement("canvas"),r=i.getContext("2d");if(null==r)return _;let l=i.width=0===e.width?128:e.width,a=i.height=0===e.height?128:e.height;r.drawImage(e,0,0,l,a);let o=r.getImageData(0,0,l,a).data,s=function(e,t,n){let i=[];for(let r=0,l,a,o,u,s;r<t;r+=n)a=e[(l=4*r)+0],o=e[l+1],u=e[l+2],(void 0===(s=e[l+3])||s>=125)&&!(a>250&&o>250&&u>250)&&i.push([a,o,u]);return i}(o,l*a,n),d=u(s,t);return"boolean"==typeof d?_:d.palette()}let T=e=>"number"==typeof e?null:h(e),h=a.memoize(e=>new Promise((t,n)=>{let i=new Image;i.crossOrigin="Anonymous",i.onerror=e=>{n(e),i.onerror=i.onload=null,i=null},i.onload=()=>{t(p(i,5,10)),i.onerror=i.onload=null,i=null},i.src=e}));function S(e){return new Promise((t,n)=>{let i=new FileReader;i.readAsDataURL(e),i.onload=()=>{r("string"==typeof i.result,"Result must be a string"),t(i.result)},i.onerror=e=>n(e)})}function I(e){let t=e.split(";base64,");return r(2===t.length,"Input data is not a valid image."),atob(t[1]).length}async function g(e,t,n){let i=function(e){let t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):btoa(e.split(",")[1]);let n=e.split(",")[0].split(":")[1].split(";")[0],i=new Uint8Array(t.length);for(var r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return new Blob([i],{type:n})}(e),r=await i.arrayBuffer();return new File([r],t,{type:n})}async function A(e){var t;let n=null===(t=e.type)||void 0===t?void 0:t.split(";")[0];if("image/png"!==n)throw Error("File is not a PNG");let i=await e.text(),r=i.indexOf("IDAT");return!!(r>0)&&-1!==i.substring(0,r).indexOf("acTL")||!1}},615931:function(e,t,n){"use strict";n.r(t),n.d(t,{resolveThunk:function(){return l}});var i=n("917351"),r=n.n(i);let l=e=>"function"==typeof e?e():e;r.curry((e,t,n)=>l(t)?e(n):n({}))},730622:function(e,t,n){"use strict";let i,r;n.r(t),n.d(t,{default:function(){return d}}),n("70102");var l=n("697218"),a=n("615931");let o=()=>{throw Error("updateModal has not been implemented.")};{let e=n("670924");i=e.showModal,o=e.updateModalProps,r=n("551042").closeModal}function u(e){let{promiseFn:t,resolve:n,reject:l,modalProps:a={},hooks:{onEarlyClose:u}={}}=e;if(null==i){null==u||u();return}let d=i(_,c,a);function c(){null==u||u()}function f(e){r(d),n(e)}function E(e){r(d),l(e)}function _(e){return o(d,_,c,{...a,isLoading:!0}),s({promiseFn:t,resolve:f,reject:E,code:e,mfaCodeHandler:p,isModalOpen:!0})}function p(e){let{res:t}=e;o(d,_,c,{...a,error:t.body.message})}}function s(e){let{promiseFn:t,resolve:n,reject:i,code:r,mfaCodeHandler:l=u,isModalOpen:a=!1,...o}=e;return t(null!=r?{code:r}:{}).then(n,e=>{var r,u;if(r=e,u=a,r.body&&60008===r.body.code||u&&429===r.status)return l({promiseFn:t,resolve:n,reject:i,res:e,...o});i(e)})}function d(e,t){var n,i;let{checkEnabled:r=null!==(i=null===(n=l.default.getCurrentUser())||void 0===n?void 0:n.mfaEnabled)&&void 0!==i&&i,...o}=null!=t?t:{};return new Promise((t,n)=>{((0,a.resolveThunk)(r)?u:s)({promiseFn:e,resolve:t,reject:n,...o})})}},833858:function(e,t,n){"use strict";function i(e){return Array.isArray(e)?e[0]:e}n.r(t),n.d(t,{getFirstQueryStringValue:function(){return i}})},655518:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}}),n("781738");var i={escape:e=>e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}},670924:function(e,t,n){"use strict";n.r(t),n.d(t,{showModal:function(){return o},updateModalProps:function(){return u}});var i=n("37983");n("884691");var r=n("551042"),l=n("920636");let a=(e,t,n)=>function(r){return(0,i.jsx)(l.default,{handleSubmit:e,handleEarlyClose:t,...n,...r})};function o(e,t,n){return(0,r.openModal)(a(e,t,n),{onCloseCallback:t})}function u(e,t,n,i){return(0,r.updateModal)(e,a(t,n,i))}}}]);
//# sourceMappingURL=84ec330e9bf24faeef30.js.map