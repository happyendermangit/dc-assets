(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["88385"],{606863:function(e,t,n){"use strict";e.exports=n.p+"321a07cbc6f5919dbce9.svg"},839491:function(e,t,n){"use strict";e.exports=n.p+"a826e445dff97cf15335.svg"},164654:function(e,t,n){"use strict";e.exports=n.p+"1f3e315f020ed5635dc1.svg"},540346:function(e,t,n){"use strict";e.exports=n.p+"1af9bdf041e000508e41.svg"},526094:function(e,t,n){"use strict";e.exports=n.p+"7442b576347c1d02886f.svg"},367469:function(e,t,n){"use strict";e.exports=n.p+"3205da2e8f78633583d0.svg"},23933:function(e,t,n){"use strict";e.exports=n.p+"8f581f91e7e650ac87a2.svg"},283397:function(e,t,n){"use strict";e.exports=n.p+"44d5e1639bc492dc8d62.svg"},666031:function(e,t,n){"use strict";n.r(t),n.d(t,{GifIcon:function(){return i}});var r=n("37983");n("884691");var u=n("669491"),l=n("75196");let i=e=>{let{width:t=24,height:n=24,color:i=u.default.colors.INTERACTIVE_NORMAL,colorClass:a="",...s}=e;return(0,r.jsx)("svg",{...(0,l.default)(s),xmlns:"http://www.w3.org/2000/svg",width:t,height:n,fill:"none",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{fill:"string"==typeof i?i:i.css,fillRule:"evenodd",d:"M5 2a3 3 0 0 0-3 3v14a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V5a3 3 0 0 0-3-3H5Zm2.18 13.87a2.9 2.9 0 0 1-1.66-.49 3.18 3.18 0 0 1-1.12-1.35A4.88 4.88 0 0 1 4 12c0-.75.14-1.42.42-2 .29-.59.7-1.04 1.24-1.37a3.7 3.7 0 0 1 1.95-.5c.64 0 1.21.14 1.72.4.5.28.89.67 1.15 1.16l-1.22.88a1.76 1.76 0 0 0-1.64-1.02c-.66 0-1.17.22-1.52.65a2.74 2.74 0 0 0-.53 1.8c0 .78.18 1.39.53 1.81.35.42.86.64 1.52.64.3 0 .57-.06.81-.16.25-.12.45-.27.58-.47v-.93H7.3v-1.4h3.24v4.23H9.27l-.2-.71c-.43.57-1.06.86-1.89.86Zm6.34-.15h-1.57V8.28h1.57v7.44Zm1.51 0h1.57v-2.83h2.76v-1.42H16.6V9.7H20V8.28h-4.97v7.44Z",clipRule:"evenodd",className:a})})}},926001:function(e,t,n){"use strict";n.r(t),n.d(t,{SlashBoxIcon:function(){return i}});var r=n("37983");n("884691");var u=n("669491"),l=n("75196");let i=e=>{let{width:t=24,height:n=24,color:i=u.default.colors.INTERACTIVE_NORMAL,colorClass:a="",...s}=e;return(0,r.jsx)("svg",{...(0,l.default)(s),xmlns:"http://www.w3.org/2000/svg",width:t,height:n,fill:"none",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{fill:"string"==typeof i?i:i.css,fillRule:"evenodd",d:"M5 2a3 3 0 0 0-3 3v14a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V5a3 3 0 0 0-3-3H5Zm12.79 3.37a.25.25 0 0 0-.22-.37h-3.13a.75.75 0 0 0-.66.38L6.21 18.63c-.1.16.03.37.22.37h3.13c.27 0 .52-.14.66-.38l7.57-13.25Z",clipRule:"evenodd",className:a})})}},206625:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n("884691");function u(e,t){let n=r.useRef(e);return r.useEffect(()=>{function e(e){null!=n.current&&!n.current.contains(e.target)&&t()}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[n,t]),n}},172858:function(e,t,n){"use strict";n.r(t),n.d(t,{DUCK_CONFETTI_SPRITE:function(){return l},COMMON_CONFETTI_COLORS:function(){return i},COMMON_CONFETTI_SPRITES:function(){return a},COMMON_CONFETTI_MAX_SPRITE_SIZE:function(){return s},COMMON_CONFETTI_BASE_CONFIG:function(){return o},COMMON_CONFETTI_ENVIRONMENT:function(){return c}});var r=n("516555"),u=n("839491");let l=u,i=["#FF73FA","#FFC0FF","#FFD836","#FF9A15","#A5F7DE","#51BC9D","#AEC7FF","#3E70DD"],a=[n("606863"),l,n("164654"),n("540346"),n("526094"),n("367469"),n("23933"),{src:n("283397"),colorize:!1}],s=28,o={velocity:{type:"static-random",minValue:{x:30,y:-80},maxValue:{x:-30,y:-180}},rotation:{type:"linear-random",minValue:0,maxValue:360,minAddValue:-25,maxAddValue:25},size:{type:"static-random",minValue:14,maxValue:s}},c=new r.Environment},750482:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o},MonetizationListingImageAspectStable:function(){return c}});var r=n("37983");n("884691");var u=n("617258"),l=n("769846"),i=n("801765"),a=n("955735");let s=(0,u.cssValueToNumber)(l.default.ASPECT_STABLE_IMAGE_CONTAINER_PADDING);function o(e){let{listing:t,imageSize:n,alt:u,...l}=e,a=(0,i.useListingThumbnailUrl)(t,n);return(0,r.jsx)("img",{src:a,alt:u,...l})}function c(e){let{listing:t,aspectRatio:n=16/9,height:u,...l}=e,o=(u-2*s)*n,c=(0,i.useListingThumbnailUrl)(t,o),d=(0,i.useListingThumbnailUrl)(t,o,{shouldAnimate:!1});return(0,r.jsx)(a.default,{src:c,backgroundSrc:d,aspectRatio:n,...l})}},891328:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n("37983");n("884691");var u=n("414456"),l=n.n(u),i=n("77078"),a=n("750482"),s=n("945330"),o=n("516864");function c(e){let{className:t,onClose:n}=e;return(0,r.jsx)(i.Clickable,{className:l(o.closeButtonContainer,t),onClick:n,children:(0,r.jsx)(s.default,{width:16,height:16,className:o.closeButtonIcon})})}function d(e){let{guildProductListing:t,onClose:n,className:u}=e;return(0,r.jsxs)(i.ModalHeader,{className:l(o.header,u),separator:!1,children:[(0,r.jsx)(a.default,{className:o.headerImage,listing:t,imageSize:500,alt:""}),(0,r.jsx)(c,{className:o.closeButton,onClose:n})]})}},134666:function(e,t,n){"use strict";n.r(t),n.d(t,{openGuildProductPurchaseConfirmationModal:function(){return l}});var r=n("37983");n("884691");var u=n("77078");function l(e){(0,u.openModalLazy)(async()=>{let{default:t}=await n.el("392977").then(n.bind(n,"392977"));return n=>(0,r.jsx)(t,{...e,...n})})}},671183:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n("884691"),u=n("627445"),l=n.n(u),i=n("642906"),a=n("134666"),s=n("273093");function o(e){let{handleClose:t}=e,{guildProductListing:n,guildId:u}=(0,s.useGuildProductPurchaseContext)(),{selectedSkuPricePreview:o}=(0,i.usePaymentContext)();return r.useEffect(()=>{l(null!=o,"selectedSkuPricePreview cannot be null"),(0,a.openGuildProductPurchaseConfirmationModal)({guildId:u,guildProductListingId:n.id,skuPricePreview:o}),t()},[]),null}},273093:function(e,t,n){"use strict";n.r(t),n.d(t,{useGuildProductPurchaseContext:function(){return c},GuildProductPurchaseContextProvider:function(){return d}});var r=n("37983"),u=n("884691"),l=n("627445"),i=n.n(l),a=n("446674"),s=n("565559");let o=u.createContext(void 0);function c(){let e=u.useContext(o);return i(null!=e,"GuildProductPurchaseContext not found"),e}function d(e){let{children:t,guildProductListingId:n,...u}=e,l=(0,a.useStateFromStores)([s.default],()=>s.default.getGuildProduct(n));return i(null!=l,"guildProductListing cannot be null"),(0,r.jsx)(o.Provider,{value:{guildProductListing:l,...u},children:t})}},880531:function(e,t,n){"use strict";n.r(t),n.d(t,{renderGuildProductPurchaseHeader:function(){return o}});var r=n("37983");n("884691");var u=n("85336"),l=n("891328"),i=n("273093"),a=n("780022");function s(e){let{onClose:t}=e,{guildProductListing:n}=(0,i.useGuildProductPurchaseContext)();return(0,r.jsx)(l.default,{guildProductListing:n,className:a.header,onClose:t})}let o=(e,t,n)=>n===u.Step.CONFIRM?null:(0,r.jsx)(s,{onClose:()=>t(!1)})},191131:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return N}});var r=n("37983");n("884691");var u=n("812204"),l=n("685665"),i=n("635357"),a=n("642906"),s=n("85336"),o=n("385179"),c=n("262683"),d=n("946359"),f=n("724269"),E=n("99836"),p=n("217796"),I=n("357957"),S=n("671183"),h=n("273093"),T=n("880531"),A=n("843455");let v=[{key:null,renderStep:e=>(0,r.jsx)(p.OneTimePaymentPredicateStep,{...e})},{key:s.Step.ADD_PAYMENT_STEPS,renderStep:e=>(0,r.jsx)(c.PaymentModalAddPaymentStep,{...e,onReturn:()=>{let t=I.default.paymentSources;0===Object.keys(t).length?e.handleClose():e.handleStepChange(s.Step.REVIEW,{trackedFromStep:s.Step.ADD_PAYMENT_STEPS})}})},{key:s.Step.AWAITING_PURCHASE_TOKEN_AUTH,renderStep:()=>(0,r.jsx)(f.default,{})},{key:s.Step.AWAITING_AUTHENTICATION,renderStep:()=>(0,r.jsx)(d.default,{})},{key:s.Step.REVIEW,renderStep:e=>(0,r.jsx)(E.PaymentModalReviewStep,{...e})},{key:s.Step.CONFIRM,renderStep:e=>(0,r.jsx)(S.default,{...e})}];function N(e){let{guildProductContext:t,sourceAnalyticsLocations:n,applicationId:s,...c}=e,{AnalyticsLocationProvider:d,analyticsLocations:f}=(0,l.default)(n,u.default.GUILD_PRODUCT_PAYMENT_MODAL);return(0,r.jsx)(h.GuildProductPurchaseContextProvider,{...t,children:(0,r.jsx)(d,{children:(0,r.jsx)(a.PaymentContextProvider,{stepConfigs:v,applicationId:s,skuIDs:[c.skuId],activeSubscription:null,purchaseType:A.PurchaseTypes.ONE_TIME,children:(0,r.jsx)(i.GiftContextProvider,{children:(0,r.jsx)(o.PaymentModal,{initialPlanId:null,analyticsLocations:f,renderHeader:T.renderGuildProductPurchaseHeader,...c})})})})})}},597517:function(e,t,n){"use strict";n.r(t),n.d(t,{hideHotspot:function(){return i},setHotspotOverride:function(){return a},clearHotspotOverride:function(){return s}});var r=n("913144"),u=n("599110"),l=n("49111");function i(e){u.default.track(l.AnalyticEvents.HOTSPOT_HIDDEN,{hotspot_location:e}),r.default.wait(()=>{r.default.dispatch({type:"HOTSPOT_HIDE",location:e})})}function a(e,t){r.default.dispatch({type:"HOTSPOT_OVERRIDE_SET",location:e,enabled:t})}function s(e){r.default.dispatch({type:"HOTSPOT_OVERRIDE_CLEAR",location:e})}},269596:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}}),n("222007");var r=n("446674"),u=n("913144"),l=n("197881"),i=n("492397");let a=new Set,s={};class o extends r.default.PersistedStore{initialize(e){null!=e&&(Array.isArray(e.hiddenHotspots)&&(a=new Set(e.hiddenHotspots)),null!=e.hotspotOverrides&&(s=e.hotspotOverrides))}hasHotspot(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!t&&s[e];return!(i.CONFERENCE_MODE_ENABLED||l.ProcessArgs.isDisallowPopupsSet())&&(n||!a.has(e))}hasHiddenHotspot(e){return a.has(e)}getHotspotOverride(e){return s[e]}getState(){return{hiddenHotspots:a,hotspotOverrides:s}}}o.displayName="HotspotStore",o.persistKey="hotspots",o.migrations=[e=>({hiddenHotspots:null!=e?e:[],hotspotOverrides:{}})];var c=new o(u.default,{OVERLAY_INITIALIZE:function(e){let{hiddenHotspots:t}=e;a=new Set(t)},HOTSPOT_HIDE:function(e){let{location:t}=e;if(a.has(t))return!1;a.add(t)},HOTSPOT_OVERRIDE_SET:function(e){let{location:t,enabled:n}=e;s[t]=n},HOTSPOT_OVERRIDE_CLEAR:function(e){let{location:t}=e;if(null==s[t])return!1;delete s[t]}})},139321:function(e,t,n){"use strict";n.r(t),n.d(t,{HotspotStore:function(){return l.default}});var r=n("533613");n.es(r,t);var u=n("597517");n.es(u,t);var l=n("269596")},274800:function(e,t,n){"use strict";n.r(t),n.d(t,{queueInteractionComponentState:function(){return i},addQueued:function(){return a},setFailed:function(){return s},fetchMessageInteractionData:function(){return o}});var r=n("872717"),u=n("913144"),l=n("49111");function i(e,t,n,r){u.default.dispatch({type:"QUEUE_INTERACTION_COMPONENT_STATE",messageId:e,nonce:t,state:n,indices:r})}function a(e,t){let{data:n,messageId:r,onCreate:l,onSuccess:i,onFailure:a}=t;u.default.dispatch({type:"INTERACTION_QUEUE",data:n,nonce:e,messageId:r,onCreate:l,onSuccess:i,onFailure:a})}function s(e,t,n){u.default.dispatch({type:"INTERACTION_FAILURE",nonce:e,errorMessage:n,errorCode:t})}async function o(e,t){let n=await r.default.get({url:l.Endpoints.MESSAGE_INTERACTION_DATA(e,t),oldFormErrors:!0});if(n.ok){let r=n.body;u.default.dispatch({type:"LOAD_MESSAGE_INTERACTION_DATA_SUCCESS",channelId:e,messageId:t,interactionData:r})}}},809810:function(e,t,n){"use strict";let r,u;n.r(t),n.d(t,{default:function(){return I}}),n("222007");var l=n("446674"),i=n("913144"),a=n("798609"),s=n("42203"),o=n("3765");let c={},d={},f={};function E(e){delete c[e];let t=f[e];null!=t&&delete d[t],delete f[e]}class p extends l.default.Store{getInteraction(e){let t=d[e.id];return null!=t?c[t]:null}getMessageInteractionStates(){let e={};for(let[t,n]of Object.entries(c)){let r=f[t];null!=r&&(e[r]=n.state)}return e}canQueueInteraction(e,t){let n=d[e];return(null==n||null==c[n]||c[n].state===o.InteractionState.FAILED)&&(null==c[t]||c[t].state===o.InteractionState.FAILED)&&!0}getIFrameModalApplicationId(){return u}getIFrameModalKey(){return r}}p.displayName="InteractionStore";var I=new p(i.default,{LOGOUT:function(){c={},d={},f={}},INTERACTION_QUEUE:function(e){let{nonce:t,messageId:n,data:r,onCreate:u,onCancel:l,onSuccess:i,onFailure:a}=e;null!=n&&(d[n]=t,f[t]=n),c[t]={state:o.InteractionState.QUEUED,data:r,onCreate:u,onCancel:l,onSuccess:i,onFailure:a}},INTERACTION_CREATE:function(e){var t;let{nonce:n,interactionId:r}=e;if(null==n)return!1;let u=c[n];if(null==u||u.state!==o.InteractionState.QUEUED)return!1;u.state=o.InteractionState.CREATED,null===(t=u.onCreate)||void 0===t||t.call(u,r)},INTERACTION_SUCCESS:function(e){var t;let{nonce:n}=e;if(null==n)return!1;let r=c[n];if(null==r)return!1;null===(t=r.onSuccess)||void 0===t||t.call(r),E(n)},INTERACTION_FAILURE:function(e){var t;let{nonce:n,errorCode:r,errorMessage:u}=e;if(null==n)return!1;let l=c[n];if(null==l)return!1;null===(t=l.onFailure)||void 0===t||t.call(l,r,u),l.data.interactionType===a.InteractionTypes.APPLICATION_COMMAND?E(n):c[n]={...l,state:o.InteractionState.FAILED,errorCode:r,errorMessage:u}},MESSAGE_CREATE:function(e){let{message:t}=e;if(null==t.nonce)return!1;{var n;let e=c[t.nonce];if(null==e)return!1;null===(n=e.onSuccess)||void 0===n||n.call(e),E(t.nonce)}},CHANNEL_SELECT:function(e){let{channelId:t}=e,n=s.default.getChannel(t);if(null==n)return!1;for(let[e,t]of Object.entries(c))t.state===o.InteractionState.FAILED&&E(e)},INTERACTION_IFRAME_MODAL_CREATE:function(e){let{application:t}=e;u=t.id},INTERACTION_IFRAME_MODAL_CLOSE:function(){r=void 0,u=void 0},INTERACTION_IFRAME_MODAL_KEY_CREATE:function(e){let{modalKey:t}=e;r=t}})},3765:function(e,t,n){"use strict";var r,u;n.r(t),n.d(t,{InteractionState:function(){return r}}),(u=r||(r={}))[u.QUEUED=0]="QUEUED",u[u.CREATED=1]="CREATED",u[u.FAILED=2]="FAILED"},752598:function(e,t,n){"use strict";n.r(t),n.d(t,{getInteractionTimeoutTimestamp:function(){return h},executeMessageComponentInteraction:function(){return T},handleInteractionResponse:function(){return v},InteractionStatusViewState:function(){return r},getInteractionStatusViewState:function(){return N},canRetryInteractionData:function(){return C}}),n("222007");var r,u,l=n("249654"),i=n("872717"),a=n("913144"),s=n("819689"),o=n("798609"),c=n("263024"),d=n("271938"),f=n("274800"),E=n("809810"),p=n("3765"),I=n("606981"),S=n("49111");function h(e){return null==e||""===e||Number.isNaN(e)?Date.now():l.default.extractTimestamp(e)+9e5}let T=async e=>{let{componentType:t,messageId:n,messageFlags:r,customId:u,indices:a,applicationId:s,channelId:p,guildId:I,localState:h}=e,T=l.default.fromTimestamp(Date.now());if(!E.default.canQueueInteraction(n,T))return;await c.default.unarchiveThreadIfNecessary(p),(0,f.addQueued)(T,{messageId:n,data:{interactionType:o.InteractionTypes.MESSAGE_COMPONENT,customId:u,indices:a},onFailure:(e,t)=>A(p,e,t)}),null!=h&&(0,f.queueInteractionComponentState)(n,T,h,a);let N={type:o.InteractionTypes.MESSAGE_COMPONENT,nonce:T,guild_id:I,channel_id:p,message_flags:r,message_id:n,application_id:s,session_id:d.default.getSessionId(),data:{component_type:t,custom_id:u,...function(e){if(null==e)return null;if(e.type===o.ComponentType.STRING_SELECT||e.type===o.ComponentType.INPUT_TEXT)return e;let t=e.selectedOptions.map(e=>e.value);return{type:e.type,values:t}}(h)}};await i.default.post({url:S.Endpoints.INTERACTIONS,body:N,timeout:3e3},e=>{v(T,p,I,e)})},A=(e,t,n)=>{null==n&&null!=t&&s.default.sendClydeError(e,t)},v=(e,t,n,r)=>{if(!r.ok){if(!r.hasErr){var u;if(r.status>=400&&r.status<500&&r.body){if(r.body.code===S.AbortCodes.INVALID_FORM_BODY&&r.body.errors){let u=(0,I.getFirstSkemaError)(r.body.errors);null!=u&&("INTERACTION_APPLICATION_COMMAND_INVALID_VERSION"===u.code||"INTERACTION_APPLICATION_COMMAND_INVALID"===u.code)&&a.default.dispatch({type:"APPLICATION_COMMAND_EXECUTE_BAD_VERSION",channelId:t,guildId:n}),(0,f.setFailed)(e,void 0,null==u?void 0:u.message);return}(0,f.setFailed)(e,void 0,r.body.message);return}(0,f.setFailed)(e,null===(u=r.body)||void 0===u?void 0:u.code);return}(0,f.setFailed)(e)}};(u=r||(r={}))[u.SENDING=0]="SENDING",u[u.CREATED=1]="CREATED",u[u.FAILED=2]="FAILED",u[u.TIMED_OUT=3]="TIMED_OUT";let N=(e,t)=>{var n;let r=null==t?void 0:t.state,u=e.state===S.MessageStates.SENT&&h(e.id)<Date.now();let i=e.state===S.MessageStates.SEND_FAILED&&(null==(n=e.id)||""===n||Number.isNaN(n)?Date.now():l.default.extractTimestamp(n)+3e3)<Date.now(),a=(null==t?void 0:t.data.interactionType)===o.InteractionTypes.APPLICATION_COMMAND,s=e.isCommandType();if(a&&r===p.InteractionState.QUEUED||s&&e.state===S.MessageStates.SENDING&&null!=t)return 0;if(a&&r===p.InteractionState.CREATED||e.hasFlag(S.MessageFlags.LOADING)&&!u)return 1;if(null!=e.interaction&&e.hasFlag(S.MessageFlags.LOADING)&&u)return 3;else if(null!=e.interaction&&!e.hasFlag(S.MessageFlags.LOADING)&&i)return 3;else if(s&&e.state===S.MessageStates.SEND_FAILED)return 2};function C(e){let t=e.options;for(;(null==t?void 0:t.length)===1&&(t[0].type===o.ApplicationCommandOptionType.SUB_COMMAND_GROUP||t[0].type===o.ApplicationCommandOptionType.SUB_COMMAND);)t=t[0].options;for(let e of null!=t?t:[])if(e.type===o.ApplicationCommandOptionType.ATTACHMENT)return!1;return!0}},606981:function(e,t,n){"use strict";n.r(t),n.d(t,{getFirstSkemaError:function(){return u}}),n("222007");let r="_errors";function u(e){return function e(t,n){let u=t[r];if(null!=u&&Array.isArray(u))return u[0];for(let[u,l]of Object.entries(t))if(u!==r&&null!=l&&"object"==typeof l)return e(l,null!=n?n:u);return null}(e,void 0)}},217796:function(e,t,n){"use strict";n.r(t),n.d(t,{OneTimePaymentPredicateStep:function(){return E}}),n("222007");var r=n("37983"),u=n("884691"),l=n("627445"),i=n.n(l),a=n("245187"),s=n("635357"),o=n("642906"),c=n("85336"),d=n("628738"),f=n("49111");function E(e){let{handleStepChange:t,handleClose:n}=e,{blockedPayments:l,hasFetchedSkus:E,paymentSources:p,hasFetchedPaymentSources:I,application:S,skusById:h,selectedSkuId:T}=(0,o.usePaymentContext)(),{isGift:A}=(0,s.useGiftContext)(),[v,N]=u.useState(!0);return(u.useEffect(()=>{let e=null!=S;E&&I&&e&&N(!1)},[E,I,S]),u.useEffect(()=>{if(v||l)return;i(null!=T,"Expected selectedSkuId");let e=h[T];if(A&&(null==e?void 0:e.productLine)===f.SKUProductLines.COLLECTIBLES){t(c.Step.GIFT_CUSTOMIZATION);return}if(0===Object.keys(p).length){t(c.Step.ADD_PAYMENT_STEPS);return}t(c.Step.REVIEW)},[v,l,t,p,A,h,T]),v)?(0,r.jsx)(d.default,{}):l?(0,r.jsx)(a.BlockedPaymentsContentModal,{onClose:n}):null}},65324:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}}),n("222007"),n("70102");var r=n("37983"),u=n("884691"),l=n("446674"),i=n("206230"),a=n("491605"),s=n("210721"),o=n("78345");function c(e){let{giftStyle:t,className:n,shouldAnimate:c=!0,defaultAnimationState:d,idleAnimationState:f}=e,E=(0,l.useStateFromStores)([i.default],()=>i.default.useReducedMotion),[p,I]=u.useState(d),S=u.useRef((0,s.getGiftAnimationData)(t,p)),[h,T]=u.useState(null==f),[A,v]=u.useState(!1),[N,C]=u.useState(-1),m=()=>{S.current=(0,s.getGiftAnimationData)(t,p),C(e=>e+1)},_=()=>{T(!1),v(!0),C(-1),I(d)};u.useEffect(()=>{null==f&&I(d)},[f,d]),u.useEffect(()=>{if(null!=f&&N>=0){_();return}m()},[t,f]),u.useEffect(()=>{(!A||null==f)&&m()},[p]),u.useEffect(()=>{A&&(T(null==f),v(!1),m())},[A]);if(!o.PremiumGiftStyles.hasOwnProperty(t))throw Error("Unexpected giftStyle ".concat(t));return(0,r.jsx)(a.default,{importData:S.current,shouldAnimate:!E&&c,className:n,versionKey:N,onComplete:null!=f?()=>{null!=f&&(I(f),T(!0))}:void 0,loop:h})}},83910:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n("37983");n("884691");var u=n("469563"),l=n("926001"),i=n("75196"),a=(0,u.replaceIcon)(function(e){let{width:t=24,height:n=24,color:u="currentColor",foreground:l,...a}=e;return(0,r.jsx)("svg",{...(0,i.default)(a),width:t,height:n,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{fill:u,fillRule:"evenodd",clipRule:"evenodd",className:l,d:"M5 3C3.89543 3 3 3.89543 3 5V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V5C21 3.89543 20.1046 3 19 3H5ZM16.8995 8.41419L15.4853 6.99998L7 15.4853L8.41421 16.8995L16.8995 8.41419Z"})})},l.SlashBoxIcon,void 0,{size:24})},95689:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n("37983");n("884691");var u=n("469563"),l=n("578478"),i=n("75196"),a=(0,u.replaceIcon)(function(e){let{width:t=24,height:n=24,color:u="currentColor",foreground:l,...a}=e;return(0,r.jsx)("svg",{...(0,i.default)(a),width:t,height:n,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",className:l,d:"M6 2C3.79086 2 2 3.79086 2 6V18C2 20.2091 3.79086 22 6 22H18C20.2091 22 22 20.2091 22 18V6C22 3.79086 20.2091 2 18 2H6ZM10 8C10 6.8952 9.1032 6 8 6C6.8944 6 6 6.8952 6 8C6 9.1056 6.8944 10 8 10C9.1032 10 10 9.1056 10 8ZM9 14L6 18H18L15 11L11 16L9 14Z",fill:u})})},l.ImageIcon,void 0,{size:24})},394832:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n("37983");n("884691");var u=n("469563"),l=n("125094"),i=(0,u.replaceIcon)(function(e){let{width:t=24,height:n=24,color:u="currentColor",className:l,foreground:i}=e;return(0,r.jsx)("svg",{className:l,width:t,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{className:i,fill:u,fillRule:"evenodd",clipRule:"evenodd",d:"M2 4.5C2 3.397 2.897 2.5 4 2.5H20C21.103 2.5 22 3.397 22 4.5V15.5C22 16.604 21.103 17.5 20 17.5H13V19.5H17V21.5H7V19.5H11V17.5H4C2.897 17.5 2 16.604 2 15.5V4.5ZM13.2 14.3375V11.6C9.864 11.6 7.668 12.6625 6 15C6.672 11.6625 8.532 8.3375 13.2 7.6625V5L18 9.6625L13.2 14.3375Z"})})},l.ScreenArrowIcon,void 0,{size:24})},708169:function(e,t,n){"use strict";n.r(t),n.d(t,{FullScreenLayers:function(){return C},useFullScreenLayerStore:function(){return T},openFullScreenLayer:function(){return m},closeFullScreenLayer:function(){return _}}),n("222007");var r,u,l=n("37983"),i=n("884691"),a=n("995008"),s=n.n(a),o=n("324134"),c=n("308503"),d=n("769846"),f=n("77078"),E=n("485328"),p=n("159885"),I=n("983782"),S=n("275495");let h=(0,p.cssValueToNumber)(d.default.FULL_SCREEN_LAYER_ANIMATION_DURATION);(u=r||(r={}))[u.ENTERING=1]="ENTERING",u[u.ENTERED=2]="ENTERED",u[u.EXITING=3]="EXITING",u[u.EXITED=4]="EXITED";let T=(0,c.default)(e=>({fullScreenLayers:[],addLayer:t=>e(e=>{let{fullScreenLayers:n}=e;return{fullScreenLayers:[...n,t]}})}));function A(e){let{item:t}=e,n=i.useRef(null);return(0,f.useFocusLock)(n),i.useEffect(()=>(E.default.disable(),E.default.enableTemp(function(e){return{POP_LAYER:{binds:["esc"],comboKeysBindGlobal:!0,action(){_(e)}}}}(t.key)),()=>{E.default.disableTemp()}),[t.key]),(0,l.jsx)(t.LayerComponent,{children:(0,l.jsxs)("div",{className:S.root,ref:n,children:[(0,l.jsx)("div",{className:S.drag}),t.render({transitionState:null!=t?t.transitionState:3,closeLayer:()=>_(t.key)})]})})}let v={enter:S.enter,enterActive:S.enterActive,enterDone:S.enterDone,exit:S.exit,exitActive:S.exitActive,exitDone:S.exitDone},N={enter:S.enterReducedMotion,enterActive:S.enterActiveReducedMotion,enterDone:S.enterDoneReducedMotion,exit:S.exitReducedMotion,exitActive:S.exitActiveReducedMotion,exitDone:S.exitDoneReducedMotion};function C(){let{reducedMotion:e}=i.useContext(f.AccessibilityPreferencesContext),t=e.enabled,n=t?N:v,r=T(e=>e.fullScreenLayers);return(0,l.jsx)(o.TransitionGroup,{children:r.map(e=>(0,l.jsx)(o.CSSTransition,{classNames:n,timeout:h,onEntered:()=>{T.setState({fullScreenLayers:r.map(t=>t.key===e.key?{...t,transitionState:2}:t)})},unmountOnExit:!0,children:(0,l.jsx)(A,{item:e})},e.key))})}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.freeze({}),{layerKey:n,Layer:r}=t,u=null!=n?n:s();return T.setState(t=>({fullScreenLayers:[...t.fullScreenLayers,{key:u,transitionState:1,LayerComponent:null!=r?r:I.default,render:e}]})),u}function _(e){T.setState(t=>({fullScreenLayers:t.fullScreenLayers.filter(t=>t.key!==e)}))}},811305:function(e,t,n){"use strict";n.r(t),n.d(t,{Sizes:function(){return T},default:function(){return N}}),n("424973"),n("222007");var r=n("37983"),u=n("884691"),l=n("414456"),i=n.n(l),a=n("627445"),s=n.n(a),o=n("77078"),c=n("506885"),d=n("981601"),f=n("766274"),E=n("697218"),p=n("368121"),I=n("523096"),S=n("587974"),h=n("494101");let T={SIZE_16:16,SIZE_24:24,SIZE_32:32,SIZE_56:56};function A(e,t){let n=e instanceof f.default?e:null!=e?e.user:null;return null!=n?n.id:"user-".concat(t)}class v extends u.PureComponent{renderUsers(){let{users:e,max:t,renderUser:n=this.defaultRenderUser,size:u,extraDetail:l}=this.props,i=[],a=e.length===t?e.length:t-1,s=this.renderMoreUsers(a),o=0;for(;o<a&&o<e.length;){var c;let t=null==s&&null==l&&o===e.length-1,a=n(e[o],t,o);i.push(t?(0,r.jsx)("div",{className:h.avatarContainer,children:a},A(null!==(c=e[o])&&void 0!==c?c:null,o)):(0,r.jsx)(S.default,{className:h.avatarContainerMasked,height:u,width:u,mask:S.default.Masks.VOICE_USER_SUMMARY_ITEM,children:a},A(e[o],o))),o++}return null!=l?i.push(l):null!=s&&i.push(s),i}renderMoreUsers(e){let{max:t,count:n,hideMoreUsers:l,renderMoreUsers:i,users:a}=this.props,s=Math.min(e,a.length);if(!l){if(null!=n){if(n>=t)return(0,r.jsx)(u.Fragment,{children:i("".concat(t,"+"),t)},"more-users");if(n>a.length){let e=n-a.length;return(0,r.jsx)(u.Fragment,{children:i("+".concat(e),e)},"more-users")}}else if(s<a.length){let e=Math.min(a.length-s,99);return(0,r.jsx)(u.Fragment,{children:i("+".concat(e),e)},"more-users")}}}renderIcon(){return this.props.renderIcon?(0,r.jsx)(p.default,{foreground:h.foreground,className:h.icon}):null}render(){let{className:e,size:t,users:n,guildId:u,showUserPopout:l,useFallbackUserForPopout:a}=this.props,{popoutUserId:f}=this.state,p=n.find(e=>null!=e&&e.id===f),I=a&&null==E.default.getUser(f);return(0,r.jsx)(o.Popout,{position:"right",preload:null==p?void 0:()=>(0,c.default)(p.id,p.getAvatarURL(u,80),{guildId:u}),shouldShow:!0===l&&null!=f,fixed:!0,renderPopout:e=>(s(null!=f,"UserSummaryItem.render - renderPopout: popoutUserId cannot be null"),(0,r.jsx)(d.default,{...this.props,user:I&&null!=p?p:void 0,...e,userId:f,guildId:this.props.guildId})),onRequestClose:()=>this.setState({popoutUserId:null}),children:n=>(0,r.jsxs)("div",{className:i(e,h.container,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T.SIZE_24;switch(e){case T.SIZE_16:return h.size16;case T.SIZE_24:return h.size24;case T.SIZE_32:return h.size32;case T.SIZE_56:return h.size56;default:return h.size24}}(t)),ref:this._ref,...n,children:[this.renderIcon(),this.renderUsers()]})})}constructor(...e){super(...e),this.state={popoutUserId:null},this._ref=u.createRef(),this.defaultRenderUser=(e,t,n)=>{let{showUserPopout:u,guildId:l,size:i}=this.props;if(null==e){if(!this.props.showDefaultAvatarsForNullUsers)return(0,r.jsx)("div",{className:h.emptyUser});{let e=(null!=n?n:0)%I.default.DEFAULT_AVATARS.length,t=I.default.DEFAULT_AVATARS[e];return(0,r.jsx)("img",{src:t,alt:"",className:h.avatar})}}let a=(0,r.jsx)("img",{src:e.getAvatarURL(l,i),alt:e.username,className:h.avatar},e.id);return u?(0,r.jsx)(o.Clickable,{className:h.clickableAvatar,onClick:()=>{null!=this._ref.current&&null!=e&&this.setState({popoutUserId:e.id})},tabIndex:-1,children:a},e.id):a}}}v.defaultProps={max:10,renderMoreUsers:function(e){return(0,r.jsx)("div",{className:h.moreUsers,children:e})},renderIcon:!1,showDefaultAvatarsForNullUsers:!1,size:T.SIZE_24};var N=v}}]);
//# sourceMappingURL=807f3694e97b0ca70154.js.map