(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["16054"],{89400:function(e,t,n){var i={"./activities-rocket-time.mp3":"329160","./activity_end.mp3":"376343","./activity_launch.mp3":"865814","./activity_user_join.mp3":"44774","./activity_user_left.mp3":"964929","./call_calling.mp3":"32596","./call_ringing.mp3":"173447","./call_ringing_beat.mp3":"942044","./call_ringing_halloween.mp3":"707746","./call_ringing_snowsgiving.mp3":"753257","./clip_error.mp3":"933574","./clip_save.mp3":"393686","./ddr-down.mp3":"497452","./ddr-left.mp3":"524997","./ddr-right.mp3":"888937","./ddr-up.mp3":"341667","./deafen.mp3":"866563","./detune_call_calling.mp3":"563137","./detune_call_ringing.mp3":"905829","./detune_deafen.mp3":"575866","./detune_discodo.mp3":"488859","./detune_disconnect.mp3":"574665","./detune_message1.mp3":"881288","./detune_mute.mp3":"22295","./detune_ptt_start.mp3":"409382","./detune_ptt_stop.mp3":"805441","./detune_stream_ended.mp3":"274007","./detune_stream_started.mp3":"887823","./detune_stream_user_joined.mp3":"203788","./detune_stream_user_left.mp3":"118472","./detune_undeafen.mp3":"494640","./detune_unmute.mp3":"434247","./detune_user_join.mp3":"99572","./detune_user_leave.mp3":"894653","./detune_user_moved.mp3":"267717","./discodo.mp3":"904613","./disconnect.mp3":"17802","./hang_status_select.mp3":"980401","./highfive_clap.mp3":"362389","./highfive_whistle.mp3":"937092","./human_man.mp3":"649460","./mention1.mp3":"748590","./mention2.mp3":"345856","./mention3.mp3":"607031","./message1.mp3":"302509","./message2.mp3":"458161","./message3.mp3":"436814","./mute.mp3":"992974","./overlayunlock.mp3":"112157","./poggermode_achievement_unlock.mp3":"537390","./poggermode_applause.mp3":"829719","./poggermode_enabled.mp3":"988826","./poggermode_message_send.mp3":"305456","./ptt_start.mp3":"15872","./ptt_stop.mp3":"144821","./reconnect.mp3":"110276","./robot_man.mp3":"437477","./stage_waiting.mp3":"44122","./stream_ended.mp3":"855479","./stream_started.mp3":"829131","./stream_user_joined.mp3":"713959","./stream_user_left.mp3":"877990","./success.mp3":"87973","./undeafen.mp3":"990161","./unmute.mp3":"216636","./user_join.mp3":"170438","./user_leave.mp3":"911578","./user_moved.mp3":"455307"};function a(e){return n(s(e))}function s(e){if(!n.o(i,e)){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.id='"89400"',a.keys=function(){return Object.keys(i)},a.resolve=s,e.exports=a},606863:function(e,t,n){"use strict";e.exports=n.p+"321a07cbc6f5919dbce9.svg"},839491:function(e,t,n){"use strict";e.exports=n.p+"a826e445dff97cf15335.svg"},164654:function(e,t,n){"use strict";e.exports=n.p+"1f3e315f020ed5635dc1.svg"},540346:function(e,t,n){"use strict";e.exports=n.p+"1af9bdf041e000508e41.svg"},526094:function(e,t,n){"use strict";e.exports=n.p+"7442b576347c1d02886f.svg"},367469:function(e,t,n){"use strict";e.exports=n.p+"3205da2e8f78633583d0.svg"},23933:function(e,t,n){"use strict";e.exports=n.p+"8f581f91e7e650ac87a2.svg"},283397:function(e,t,n){"use strict";e.exports=n.p+"44d5e1639bc492dc8d62.svg"},329160:function(e,t,n){"use strict";e.exports=n.p+"f8fb88f65f33f224c7b3.mp3"},376343:function(e,t,n){"use strict";e.exports=n.p+"ff974df9426e43392cbf.mp3"},865814:function(e,t,n){"use strict";e.exports=n.p+"259813ba8e00b2a211cb.mp3"},44774:function(e,t,n){"use strict";e.exports=n.p+"70b22eab409925d6f8f8.mp3"},964929:function(e,t,n){"use strict";e.exports=n.p+"bb8db567f29cb0cd4fef.mp3"},32596:function(e,t,n){"use strict";e.exports=n.p+"bc4e660a66b0712b5114.mp3"},173447:function(e,t,n){"use strict";e.exports=n.p+"e72bd9a68c5a5de4b084.mp3"},942044:function(e,t,n){"use strict";e.exports=n.p+"1339b5d1d553f40ac2bc.mp3"},707746:function(e,t,n){"use strict";e.exports=n.p+"e19cc32298b291be6b3d.mp3"},753257:function(e,t,n){"use strict";e.exports=n.p+"3c6cc93eaab97c478abe.mp3"},933574:function(e,t,n){"use strict";e.exports=n.p+"46ecf97d21def02d585f.mp3"},393686:function(e,t,n){"use strict";e.exports=n.p+"607f4f5830fc13d0b251.mp3"},497452:function(e,t,n){"use strict";e.exports=n.p+"c02408469ee033a4ee3a.mp3"},524997:function(e,t,n){"use strict";e.exports=n.p+"fbf60e1284cc54dc0e5e.mp3"},888937:function(e,t,n){"use strict";e.exports=n.p+"ea5f09e9af94f92edc3a.mp3"},341667:function(e,t,n){"use strict";e.exports=n.p+"615ef618987056fd1bd2.mp3"},866563:function(e,t,n){"use strict";e.exports=n.p+"6cb3ea10151e5b2ffb07.mp3"},563137:function(e,t,n){"use strict";e.exports=n.p+"fef4303b284e8445f8e9.mp3"},905829:function(e,t,n){"use strict";e.exports=n.p+"0218b16de15cb2f7724c.mp3"},575866:function(e,t,n){"use strict";e.exports=n.p+"3ab587f5e0363cb3b453.mp3"},488859:function(e,t,n){"use strict";e.exports=n.p+"a6e48e91e0069b28d2ca.mp3"},574665:function(e,t,n){"use strict";e.exports=n.p+"c2e8cc718f4394e2fd6d.mp3"},881288:function(e,t,n){"use strict";e.exports=n.p+"582c42ea90dc65482716.mp3"},22295:function(e,t,n){"use strict";e.exports=n.p+"77b7d43241726f405cc1.mp3"},409382:function(e,t,n){"use strict";e.exports=n.p+"08385764d2c5b826af6b.mp3"},805441:function(e,t,n){"use strict";e.exports=n.p+"2da7a98f354d6208d66f.mp3"},274007:function(e,t,n){"use strict";e.exports=n.p+"70a0184ec509ec277062.mp3"},887823:function(e,t,n){"use strict";e.exports=n.p+"cb8e5ebd782353d41f83.mp3"},203788:function(e,t,n){"use strict";e.exports=n.p+"6d2fdab68b3e6d97914f.mp3"},118472:function(e,t,n){"use strict";e.exports=n.p+"674ddc50a69a27d0c36c.mp3"},494640:function(e,t,n){"use strict";e.exports=n.p+"62f48861f90d5e622587.mp3"},434247:function(e,t,n){"use strict";e.exports=n.p+"de752bcdde8d8c52ab11.mp3"},99572:function(e,t,n){"use strict";e.exports=n.p+"0fc2742bb405e81bc1c4.mp3"},894653:function(e,t,n){"use strict";e.exports=n.p+"9bb7b5e7d71c1fcbb69b.mp3"},267717:function(e,t,n){"use strict";e.exports=n.p+"2305850be26e674a9bc0.mp3"},904613:function(e,t,n){"use strict";e.exports=n.p+"44208515805198d4c548.mp3"},17802:function(e,t,n){"use strict";e.exports=n.p+"e08aa3fc806a6137b9af.mp3"},980401:function(e,t,n){"use strict";e.exports=n.p+"d20b9636e9ef7c82b9ec.mp3"},362389:function(e,t,n){"use strict";e.exports=n.p+"6cc13ddadaadc1e9acfb.mp3"},937092:function(e,t,n){"use strict";e.exports=n.p+"06b0ec919358fd00a1c9.mp3"},649460:function(e,t,n){"use strict";e.exports=n.p+"1003a3a0720d56ebe8d8.mp3"},748590:function(e,t,n){"use strict";e.exports=n.p+"6fded0954ad6fa7fc2ec.mp3"},345856:function(e,t,n){"use strict";e.exports=n.p+"57cd70365a486a399e4a.mp3"},607031:function(e,t,n){"use strict";e.exports=n.p+"951cb91ee4aedb54e555.mp3"},302509:function(e,t,n){"use strict";e.exports=n.p+"7e95e417e6decf91459a.mp3"},458161:function(e,t,n){"use strict";e.exports=n.p+"d98b3cb5756a0c4908ab.mp3"},436814:function(e,t,n){"use strict";e.exports=n.p+"b8fbd5bcaed3d51b8b73.mp3"},992974:function(e,t,n){"use strict";e.exports=n.p+"574a4b46a370c821f4c2.mp3"},112157:function(e,t,n){"use strict";e.exports=n.p+"9be773476c4dfc20a049.mp3"},537390:function(e,t,n){"use strict";e.exports=n.p+"99e4a1dff8fdc40994d0.mp3"},829719:function(e,t,n){"use strict";e.exports=n.p+"98cc8cdf9f7711301b27.mp3"},988826:function(e,t,n){"use strict";e.exports=n.p+"9b0de13058a4eff892f3.mp3"},305456:function(e,t,n){"use strict";e.exports=n.p+"789fbb057da285769ee4.mp3"},15872:function(e,t,n){"use strict";e.exports=n.p+"e02be8f7ceaa6b3a2e72.mp3"},144821:function(e,t,n){"use strict";e.exports=n.p+"8d26e762622d49b2a607.mp3"},110276:function(e,t,n){"use strict";e.exports=n.p+"09d327b608c3bd75cd85.mp3"},437477:function(e,t,n){"use strict";e.exports=n.p+"c9a9c1767b82a09a02d1.mp3"},44122:function(e,t,n){"use strict";e.exports=n.p+"b33d3bd272e8ad1308f1.mp3"},855479:function(e,t,n){"use strict";e.exports=n.p+"1877b1bd5a52d560309a.mp3"},829131:function(e,t,n){"use strict";e.exports=n.p+"57251e1318cb6545df91.mp3"},713959:function(e,t,n){"use strict";e.exports=n.p+"1387160f6f2937093609.mp3"},877990:function(e,t,n){"use strict";e.exports=n.p+"215c23b18a529793b0c3.mp3"},87973:function(e,t,n){"use strict";e.exports=n.p+"220087059cee59de6537.mp3"},990161:function(e,t,n){"use strict";e.exports=n.p+"a338e62624013a20f7df.mp3"},216636:function(e,t,n){"use strict";e.exports=n.p+"94ac01bdba0749ee103c.mp3"},170438:function(e,t,n){"use strict";e.exports=n.p+"e4c08b716d0db705facc.mp3"},911578:function(e,t,n){"use strict";e.exports=n.p+"14601f9cdbd78f8fe7ef.mp3"},455307:function(e,t,n){"use strict";e.exports=n.p+"aaa90875db91174f3e8a.mp3"},629109:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var i=n("913144"),a=n("504385"),s=n("439141"),u=n("533222"),l=n("42887"),o=n("599110"),d=n("709681"),r=n("12307"),c=n("49111"),f=n("353927");function p(){(0,d.playSound)("mention3")}function _(e,t,n,i,a){if(t===n)return;let s=e[t],l=e[n];o.default.track(c.AnalyticEvents.MEDIA_DEVICE_CHANGED,{device_from_name:u.default.getCertifiedDeviceName(t,null!=s?s.name:""),device_to_name:u.default.getCertifiedDeviceName(n,null!=l?l.name:""),device_type:i,device_is_certified:u.default.isCertified(n),location:a})}let E={isNotSupported:()=>!1,enable:e=>Promise.resolve(!0)};E=n("412905");let{enable:m,isNotSupported:S}=E;var g={enable:m,toggleSelfMute(){let{context:e=f.MediaEngineContextTypes.DEFAULT,syncRemote:t=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return S()?Promise.resolve():l.default.isEnabled()?i.default.dispatch({type:"AUDIO_TOGGLE_SELF_MUTE",context:e,syncRemote:t}):this.enable(!0)},setTemporarySelfMute(e){!S()&&i.default.dispatch({type:"AUDIO_SET_TEMPORARY_SELF_MUTE",mute:e})},toggleSelfDeaf(){let{context:e=f.MediaEngineContextTypes.DEFAULT,syncRemote:t=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!S()&&i.default.dispatch({type:"AUDIO_TOGGLE_SELF_DEAF",context:e,syncRemote:t})},toggleLocalMute(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.MediaEngineContextTypes.DEFAULT;!S()&&i.default.dispatch({type:"AUDIO_TOGGLE_LOCAL_MUTE",context:t,userId:e})},toggleLocalSoundboardMute(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.MediaEngineContextTypes.DEFAULT;i.default.dispatch({type:"AUDIO_TOGGLE_LOCAL_SOUNDBOARD_MUTE",context:t,userId:e})},setDisableLocalVideo(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.MediaEngineContextTypes.DEFAULT,a=!(arguments.length>3)||void 0===arguments[3]||arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];!S()&&i.default.dispatch({type:"AUDIO_SET_LOCAL_VIDEO_DISABLED",context:n,userId:e,videoToggleState:t,persist:a,isAutomatic:s})},setLocalVolume(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.MediaEngineContextTypes.DEFAULT;i.default.dispatch({type:"AUDIO_SET_LOCAL_VOLUME",context:n,userId:e,volume:(0,a.snapVolumeToDefault)(t,n)})},setLocalPan(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:f.MediaEngineContextTypes.DEFAULT;i.default.dispatch({type:"AUDIO_SET_LOCAL_PAN",context:a,userId:e,left:t,right:n})},setMode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.MediaEngineContextTypes.DEFAULT;!S()&&i.default.dispatch({type:"AUDIO_SET_MODE",context:n,mode:e,options:{...l.default.getModeOptions(n),...t}})},setInputVolume(e){!S()&&i.default.dispatch({type:"AUDIO_SET_INPUT_VOLUME",volume:e})},setOutputVolume(e){!S()&&i.default.dispatch({type:"AUDIO_SET_OUTPUT_VOLUME",volume:e})},setInputDevice(e,t){if(!S()){if(null!=t){let n=l.default.getInputDevices(),i=l.default.getInputDeviceId();_(n,i,e,"Audio Input",t)}i.default.dispatch({type:"AUDIO_SET_INPUT_DEVICE",id:e}),p()}},setOutputDevice(e,t){if(!S()){if(null!=t){let n=l.default.getOutputDevices(),i=l.default.getOutputDeviceId();_(n,i,e,"Audio Output",t)}i.default.dispatch({type:"AUDIO_SET_OUTPUT_DEVICE",id:e}),p()}},setVideoDevice(e,t){if(!S()){if(null!=t){let n=l.default.getVideoDevices(),i=l.default.getVideoDeviceId();_(n,i,e,"Video",t)}i.default.dispatch({type:"MEDIA_ENGINE_SET_VIDEO_DEVICE",id:e})}},setEchoCancellation(e,t){!S()&&i.default.dispatch({type:"AUDIO_SET_ECHO_CANCELLATION",enabled:e,location:t})},setLoopback(e){!S()&&i.default.dispatch({type:"AUDIO_SET_LOOPBACK",enabled:e})},setNoiseSuppression(e,t){!S()&&i.default.dispatch({type:"AUDIO_SET_NOISE_SUPPRESSION",enabled:e,location:t})},setNoiseCancellation(e,t){!S()&&(i.default.dispatch({type:"AUDIO_SET_NOISE_CANCELLATION",enabled:e,location:t}),i.default.dispatch({type:"AUDIO_SET_NOISE_SUPPRESSION",enabled:!e,location:t}))},setAutomaticGainControl(e,t){!S()&&i.default.dispatch({type:"AUDIO_SET_AUTOMATIC_GAIN_CONTROL",enabled:e,location:t})},setExperimentalEncoders(e){!S()&&i.default.dispatch({type:"MEDIA_ENGINE_SET_EXPERIMENTAL_ENCODERS",enabled:e})},setHardwareH264(e){!S()&&i.default.dispatch({type:"MEDIA_ENGINE_SET_HARDWARE_H264",enabled:e})},setAttenuation(e,t,n){!S()&&i.default.dispatch({type:"AUDIO_SET_ATTENUATION",attenuation:e,attenuateWhileSpeakingSelf:t,attenuateWhileSpeakingOthers:n})},setQoS(e){!S()&&i.default.dispatch({type:"AUDIO_SET_QOS",enabled:e})},reset(){!S()&&i.default.dispatch({type:"AUDIO_RESET"})},setSilenceWarning(e){!S()&&i.default.dispatch({type:"AUDIO_SET_DISPLAY_SILENCE_WARNING",enabled:e})},setDebugLogging(e){!S()&&i.default.dispatch({type:"AUDIO_SET_DEBUG_LOGGING",enabled:e})},setVideoHook(e){!S()&&i.default.dispatch({type:"MEDIA_ENGINE_SET_VIDEO_HOOK",enabled:e})},setExperimentalSoundshare(e){!S()&&i.default.dispatch({type:"MEDIA_ENGINE_SET_EXPERIMENTAL_SOUNDSHARE",enabled:e})},setAudioSubsystem(e){!S()&&i.default.dispatch({type:"AUDIO_SET_SUBSYSTEM",subsystem:e})},setVideoEnabled(e){(0,s.applyInitialVideoBackgroundOption)(),i.default.dispatch({type:"MEDIA_ENGINE_SET_VIDEO_ENABLED",enabled:e})},setGoLiveSource(e){(null==e?void 0:e.qualityOptions)!=null&&(0,r.trackStreamSettingsUpdate)(e.qualityOptions.preset,e.qualityOptions.resolution,e.qualityOptions.frameRate),i.default.dispatch({type:"MEDIA_ENGINE_SET_GO_LIVE_SOURCE",settings:e})},setOpenH264(e){!S()&&i.default.dispatch({type:"MEDIA_ENGINE_SET_OPEN_H264",enabled:e})},setAV1Enabled(e){!S()&&i.default.dispatch({type:"MEDIA_ENGINE_SET_AV1",enabled:e})},setH265Enabled(e){!S()&&i.default.dispatch({type:"MEDIA_ENGINE_SET_H265",enabled:e})},setAecDump(e){!S()&&i.default.dispatch({type:"MEDIA_ENGINE_SET_AEC_DUMP",enabled:e})},interact(){!S()&&i.default.dispatch({type:"MEDIA_ENGINE_INTERACTION_REQUIRED",required:!1})},enableSoundshare(){!S()&&i.default.dispatch({type:"MEDIA_ENGINE_ENABLE_SOUNDSHARE"})}}},126501:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n("913144"),a=n("679428"),s=n("282109"),u={update(e){i.default.dispatch({type:"CHANNEL_COLLAPSE",channelId:e})},toggleCollapseGuild(e){a.default.saveUserGuildSettings(e,{hide_muted_channels:!s.default.isGuildCollapsed(e)}),i.default.dispatch({type:"GUILD_TOGGLE_COLLAPSE_MUTED",guildId:e})}}},412905:function(e,t,n){"use strict";n.r(t),n.d(t,{isNotSupported:function(){return _},enable:function(){return m}});var i=n("37983");n("884691");var a=n("77078"),s=n("913144"),u=n("605250"),l=n("42887"),o=n("599110"),d=n("49111"),r=n("180524"),c=n("782340");let f=new u.default("AudioActionCreators");function p(){(0,a.openModalLazy)(async()=>{let{default:e}=await n.el("649486").then(n.bind(n,"649486"));return t=>(0,i.jsx)(e,{source:"Unsupported Browser",...t})})}function _(){return!l.default.isSupported()&&((0,a.openModal)(e=>(0,i.jsx)(a.ConfirmModal,{header:c.default.Messages.UNSUPPORTED_BROWSER,confirmText:c.default.Messages.DOWNLOAD_APP,cancelText:c.default.Messages.CANCEL,onConfirm:p,confirmButtonColor:a.Button.Colors.BRAND,...e,children:(0,i.jsx)(a.Text,{variant:"text-md/normal",children:c.default.Messages.UNSUPPORTED_BROWSER_DETAILS})})),!0)}function E(e){o.default.track(d.AnalyticEvents.PERMISSIONS_ACKED,{type:"audio",action:e})}function m(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return _()?Promise.resolve(!1):(o.default.track(d.AnalyticEvents.PERMISSIONS_REQUESTED,{type:"audio"}),l.default.getMediaEngine().enable().then(()=>{s.default.dispatch({type:"MEDIA_ENGINE_SET_AUDIO_ENABLED",enabled:!0,unmute:e}),E(r.NativePermissionStates.ACCEPTED)},e=>{switch(e){case d.UserMediaErrors.NO_DEVICES_FOUND:E(r.NativePermissionStates.NO_DEVICES);break;case d.UserMediaErrors.PERMISSION_DENIED:E(r.NativePermissionStates.DENIED);break;case d.UserMediaErrors.PERMISSION_DISMISSED:E(r.NativePermissionStates.DISMISSED);break;default:E(r.NativePermissionStates.ERROR),f.warn("unknown getUserMedia error: ".concat(e))}}).then(()=>!0))}},715072:function(e,t,n){"use strict";n.r(t),n.d(t,{UserPlusIcon:function(){return u}});var i=n("37983");n("884691");var a=n("669491"),s=n("75196");let u=e=>{let{width:t=24,height:n=24,color:u=a.default.colors.INTERACTIVE_NORMAL,colorClass:l="",...o}=e;return(0,i.jsxs)("svg",{...(0,s.default)(o),xmlns:"http://www.w3.org/2000/svg",width:t,height:n,fill:"none",viewBox:"0 0 24 24",children:[(0,i.jsx)("path",{d:"M19 14a1 1 0 0 1 1 1v3h3a1 1 0 0 1 0 2h-3v3a1 1 0 0 1-2 0v-3h-3a1 1 0 1 1 0-2h3v-3a1 1 0 0 1 1-1Z",fill:"string"==typeof u?u:u.css,className:l}),(0,i.jsx)("path",{d:"M16.83 12.93c.26-.27.26-.75-.08-.92A9.5 9.5 0 0 0 12.47 11h-.94A9.53 9.53 0 0 0 2 20.53c0 .81.66 1.47 1.47 1.47h.22c.24 0 .44-.17.5-.4.29-1.12.84-2.17 1.32-2.91.14-.21.43-.1.4.15l-.26 2.61c-.02.3.2.55.5.55h7.64c.12 0 .17-.31.06-.36C12.82 21.14 12 20.22 12 19a3 3 0 0 1 3-3h.5a.5.5 0 0 0 .5-.5V15c0-.8.31-1.53.83-2.07ZM12 10a4 4 0 1 0 0-8 4 4 0 0 0 0 8Z",fill:"string"==typeof u?u:u.css,className:l})]})}},168003:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return H}});var i=n("37983");n("884691");var a=n("446674"),s=n("77078"),u=n("272030"),l=n("838446"),o=n("158534"),d=n("846883"),r=n("812204"),c=n("861370"),f=n("20209"),p=n("972701"),_=n("390008"),E=n("41205"),m=n("379304"),S=n("534222"),g=n("601131"),N=n("47495"),v=n("834052"),T=n("715243"),A=n("458574"),h=n("963150"),I=n("308798"),C=n("47006"),O=n("809259"),M=n("878526"),U=n("44141"),L=n("531674"),b=n("619436"),y=n("625399"),D=n("339876"),x=n("702741"),R=n("782000"),G=n("45593"),F=n("604887"),V=n("958936"),P=n("49111"),w=n("782340");function k(e){let{channel:t,guild:n,onSelect:l}=e,o=t.isGuildStageVoice(),r=(0,a.useStateFromStores)([v.default],()=>o?v.default.getStageInstanceByChannel(t.id):void 0,[o,t.id]),f=(0,A.default)(t),m=(0,S.useActiveEvent)(t.id),T=(0,g.default)(null==m?void 0:m.id,n,t),h=(0,R.default)(t,r),I=(0,p.useAddToFavoritesItem)(t),M=(0,p.useRemoveFromFavoritesItem)(t),U=(0,_.default)(t),L=(0,E.default)(t),D=(0,O.default)(t),G=(0,b.default)(t),F=(0,C.default)(t),P=(0,V.default)(t,n),k=(0,c.default)({id:t.id,label:w.default.Messages.COPY_ID_CHANNEL}),j=(0,x.default)(t),H=(0,d.default)(t),B=(0,N.useShouldUseNewNotificationSystem)("ChannelListVoiceContextMenuFavorite"),Y=(0,y.default)(t);return(0,i.jsxs)(s.Menu,{navId:"channel-context",onClose:u.closeContextMenu,"aria-label":w.default.Messages.CHANNEL_ACTIONS_MENU_LABEL,onSelect:l,children:[(0,i.jsx)(s.MenuGroup,{children:null!=m?T:h}),(0,i.jsxs)(s.MenuGroup,{children:[L,U,I]}),(0,i.jsxs)(s.MenuGroup,{children:[D,B?Y:G,F]}),(0,i.jsx)(s.MenuGroup,{children:H}),(0,i.jsx)(s.MenuGroup,{children:M}),(0,i.jsxs)(s.MenuGroup,{children:[P,f]}),(0,i.jsx)(s.MenuGroup,{children:j}),(0,i.jsx)(s.MenuGroup,{children:k})]})}function j(e){let{channel:t,guild:n,onSelect:l}=e,o=t.isGuildStageVoice(),r=(0,a.useStateFromStores)([v.default],()=>o?v.default.getStageInstanceByChannel(t.id):void 0,[o,t.id]),f=(0,U.default)(t),_=(0,A.default)(t),E=(0,S.useActiveEvent)(t.id),P=(0,g.default)(null==E?void 0:E.id,n,t),k=(0,R.default)(t,r),j=(0,p.useAddToFavoritesItem)(t),H=(0,p.useRemoveFromFavoritesItem)(t),B=(0,O.default)(t),Y=(0,b.default)(t),W=(0,C.default)(t),K=(0,M.default)(t,n,r),q=(0,V.default)(t,n),Q=(0,G.default)(t,n),Z=(0,F.default)(t,n.id),X=(0,T.default)(t,n),z=(0,h.default)(t,n),J=(0,I.default)(t),$=(0,c.default)({id:t.id,label:w.default.Messages.COPY_ID_CHANNEL}),ee=(0,x.default)(t),et=(0,d.default)(t),en=(0,D.default)(t),ei=(0,m.default)(t),ea=(0,L.default)(t),es=(0,N.useShouldUseNewNotificationSystem)("ChannelListVoiceContextMenuNormal"),eu=(0,y.default)(t);return(0,i.jsxs)(s.Menu,{navId:"channel-context",onClose:u.closeContextMenu,"aria-label":w.default.Messages.CHANNEL_ACTIONS_MENU_LABEL,onSelect:l,children:[(0,i.jsx)(s.MenuGroup,{children:null!=E?P:k}),(0,i.jsx)(s.MenuGroup,{children:f},"mark-as-read"),(0,i.jsxs)(s.MenuGroup,{children:[K,et,en,j,_]},"channel-actions"),(0,i.jsxs)(s.MenuGroup,{children:[Z,q,Q,B,ei,ee]},"voice-actions"),(0,i.jsxs)(s.MenuGroup,{children:[ea,es?eu:Y]},"notifications"),(0,i.jsx)(s.MenuGroup,{children:H}),(0,i.jsxs)(s.MenuGroup,{children:[W,X,z,J]},"admin-actions"),(0,i.jsx)(s.MenuGroup,{children:$},"developer-actions")]})}var H=(0,o.default)((0,l.default)(function(e){let t=(0,f.default)();return t?(0,i.jsx)(k,{...e}):(0,i.jsx)(j,{...e})},{object:P.AnalyticsObjects.CONTEXT_MENU}),[r.default.CONTEXT_MENU,r.default.CHANNEL_LIST_VOICE_CHANNEL_MENU])},809259:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var i=n("37983");n("884691");var a=n("446674"),s=n("77078"),u=n("126501"),l=n("816092"),o=n("782340");function d(e){let t=(0,a.useStateFromStores)([l.default],()=>l.default.isCollapsed(e.id),[e.id]);return __OVERLAY__?null:(0,i.jsx)(s.MenuCheckboxItem,{id:"hide-voice-names",label:o.default.Messages.VOICE_CHANNEL_HIDE_NAMES,action:()=>u.default.update(e.id),checked:t})}},531674:function(e,t,n){"use strict";n.r(t),n.d(t,{getMuteTimes:function(){return m},default:function(){return g}}),n("222007");var i=n("37983");n("884691");var a=n("866227"),s=n.n(a),u=n("446674"),l=n("77078"),o=n("820542"),d=n("519705"),r=n("319165"),c=n("282109"),f=n("679653"),p=n("49111"),_=n("468200"),E=n("782340");let m=()=>[{value:_.MuteUntilSeconds.MINUTES_15,label:E.default.Messages.MUTE_DURATION_15_MINUTES},{value:_.MuteUntilSeconds.HOURS_1,label:E.default.Messages.MUTE_DURATION_1_HOUR},{value:_.MuteUntilSeconds.HOURS_3,label:E.default.Messages.MUTE_DURATION_3_HOURS},{value:_.MuteUntilSeconds.HOURS_8,label:E.default.Messages.MUTE_DURATION_8_HOURS},{value:_.MuteUntilSeconds.HOURS_24,label:E.default.Messages.MUTE_DURATION_24_HOURS},{value:_.MuteUntilSeconds.ALWAYS,label:E.default.Messages.MUTE_DURATION_ALWAYS}],S=e=>{let t=e>0?s().add(e,"second").toISOString():null;return{muted:!0,mute_config:{selected_time_window:e,end_time:t}}};function g(e,t){let[n,a]=(0,u.useStateFromStoresArray)([c.default],()=>[c.default.isChannelMuted(e.guild_id,e.id),c.default.getChannelMuteConfig(e.guild_id,e.id)]),s=(0,r.useMutedUntilText)(a),_=(0,f.default)(e,!0);function g(t){t&&e.type===p.ChannelTypes.GUILD_CATEGORY&&(0,o.categoryCollapse)(e.id),d.default.updateChannelOverrideSettings(e.guild_id,e.id,{muted:t})}let N=E.default.Messages.MUTE_CHANNEL_GENERIC,v=E.default.Messages.UNMUTE_CHANNEL_GENERIC;switch(e.type){case p.ChannelTypes.GUILD_CATEGORY:N=E.default.Messages.MUTE_CATEGORY,v=E.default.Messages.UNMUTE_CATEGORY;break;case p.ChannelTypes.GROUP_DM:N=E.default.Messages.MUTE_CONVERSATION,v=E.default.Messages.UNMUTE_CONVERSATION;break;case p.ChannelTypes.DM:N=E.default.Messages.MUTE_CHANNEL.format({name:_}),v=E.default.Messages.UNMUTE_CHANNEL.format({name:_});break;default:N=E.default.Messages.MUTE_CHANNEL_GENERIC,v=E.default.Messages.UNMUTE_CHANNEL_GENERIC}return n?(0,i.jsx)(l.MenuItem,{id:"unmute-channel",label:v,subtext:s,action:()=>g(!1)}):(0,i.jsx)(l.MenuItem,{id:"mute-channel",label:N,action:()=>g(!0),children:m().map(n=>{let{value:a,label:s}=n;return(0,i.jsx)(l.MenuItem,{id:"".concat(a),label:s,action:()=>(function(n){e.type===p.ChannelTypes.GUILD_CATEGORY&&(0,o.categoryCollapse)(e.id);let i=S(n);d.default.updateChannelOverrideSettings(e.guild_id,e.id,i,t)})(a)},a)})})}},619436:function(e,t,n){"use strict";n.r(t),n.d(t,{useChannelNotificationRadioItems:function(){return f},default:function(){return p}});var i=n("37983");n("884691");var a=n("446674"),s=n("77078"),u=n("519705"),l=n("721281"),o=n("282109"),d=n("49111"),r=n("782340");function c(e){var t,n,i;let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e.type){case d.ChannelTypes.GUILD_VOICE:;return a?(t=e,[{setting:d.UserNotificationSettings.NULL,label:null!=t.parent_id?r.default.Messages.FORM_LABEL_DEFAULT_CATEGORY:r.default.Messages.FORM_LABEL_DEFAULT},{setting:d.UserNotificationSettings.ALL_MESSAGES,label:r.default.Messages.FORM_LABEL_ALL_VOICE_ACTIVITY},{setting:d.UserNotificationSettings.ONLY_MENTIONS,label:r.default.Messages.FORM_LABEL_ONLY_TEXT_MENTIONS.format()},{setting:d.UserNotificationSettings.NO_MESSAGES,label:r.default.Messages.FORM_LABEL_NOTHING}]):null;case d.ChannelTypes.GUILD_STAGE_VOICE:;return n=e,[{setting:d.UserNotificationSettings.NULL,label:null!=n.parent_id?r.default.Messages.FORM_LABEL_DEFAULT_CATEGORY:r.default.Messages.FORM_LABEL_DEFAULT},{setting:d.UserNotificationSettings.ONLY_MENTIONS,label:r.default.Messages.FORM_LABEL_LIVE_STAGES_ONLY},{setting:d.UserNotificationSettings.NO_MESSAGES,label:r.default.Messages.FORM_LABEL_NOTHING}];default:;return i=e,[{setting:d.UserNotificationSettings.NULL,label:null!=i.parent_id?r.default.Messages.FORM_LABEL_DEFAULT_CATEGORY:r.default.Messages.FORM_LABEL_DEFAULT},{setting:d.UserNotificationSettings.ALL_MESSAGES,label:r.default.Messages.FORM_LABEL_ALL_MESSAGES},{setting:d.UserNotificationSettings.ONLY_MENTIONS,label:r.default.Messages.FORM_LABEL_ONLY_MENTIONS.format()},{setting:d.UserNotificationSettings.NO_MESSAGES,label:r.default.Messages.FORM_LABEL_NOTHING}]}}function f(e){let t=e.getGuildId(),n=e.id,f=(0,a.useStateFromStores)([o.default],()=>{let n=d.UserNotificationSettings.NULL;return null!=e.parent_id&&(n=o.default.getChannelMessageNotifications(t,e.parent_id)),n!==d.UserNotificationSettings.NULL?n:o.default.getMessageNotifications(t)},[t,e.parent_id]),p=(0,a.useStateFromStores)([o.default],()=>o.default.getNewForumThreadsCreated(e)),_=(0,a.useStateFromStores)([o.default],()=>o.default.getChannelOverrides(t)[n],[t,n]),E=null==_?d.UserNotificationSettings.NULL:_.message_notifications,m=(0,l.useVoiceActivityNotificationSettingsExperiment)(e),S=c(e,m);return null==S?null:(0,i.jsxs)(i.Fragment,{children:[e.isForumLikeChannel()?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.MenuCheckboxItem,{id:"new-forum-threads-created",label:r.default.Messages.FORUM_NEW_POSTS_CREATED,checked:p,action:()=>u.default.setForumThreadsCreated(e,!p)}),(0,i.jsx)(s.MenuSeparator,{})]}):null,S.map(a=>{let{setting:l,label:o}=a;return(0,i.jsx)(s.MenuRadioItem,{group:"channel-notifications",id:"".concat(l),label:o,subtext:l===d.UserNotificationSettings.NULL?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];switch(e){case d.UserNotificationSettings.ALL_MESSAGES:return t.type===d.ChannelTypes.GUILD_VOICE&&n?r.default.Messages.FORM_LABEL_ALL_VOICE_ACTIVITY:r.default.Messages.FORM_LABEL_ALL_MESSAGES;case d.UserNotificationSettings.ONLY_MENTIONS:return r.default.Messages.FORM_LABEL_ONLY_MENTIONS.format();case d.UserNotificationSettings.NO_MESSAGES:return r.default.Messages.FORM_LABEL_NOTHING;case d.UserNotificationSettings.NULL:default:return}}(f,e,m):void 0,action:()=>{var e;return e=l,void(null!=t&&u.default.updateChannelOverrideSettings(t,n,{message_notifications:e}))},checked:l===E},l)})]})}function p(e){var t,n;let u=f(e),p=(0,a.useStateFromStores)([o.default],()=>o.default.resolvedMessageNotifications(e),[e]),_=(0,a.useStateFromStores)([o.default],()=>o.default.getChannelOverrides(e.guild_id)[e.id],[e.guild_id,e.id]),E=null==_?d.UserNotificationSettings.NULL:_.message_notifications,m=(0,l.useVoiceActivityNotificationSettingsExperiment)(e),S=E===d.UserNotificationSettings.NULL&&e.isGuildStageVoice()?r.default.Messages.FORM_LABEL_ONLY_MENTIONS.format():null===(n=c(e,m))||void 0===n?void 0:null===(t=n.find(e=>{let{setting:t}=e;return t===p}))||void 0===t?void 0:t.label;return null!=u?(0,i.jsx)(s.MenuItem,{id:"channel-notifications",label:r.default.Messages.NOTIFICATION_SETTINGS,subtext:S,children:u}):null}},702741:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var i=n("37983");n("884691");var a=n("77078"),s=n("377114"),u=n("834052"),l=n("907566"),o=n("782340");function d(e){let t=u.default.isLive(e.id);return e.isGuildStageVoice()&&t?(0,i.jsx)(a.MenuItem,{id:"report-stage",label:o.default.Messages.REPORT_MODAL_REPORT_STAGE_MENU_ITEM,action:()=>(0,s.showReportModalForStageChannel)(e),icon:l.default,color:"danger"}):null}},782e3:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var i=n("37983");n("884691");var a=n("446674"),s=n("77078"),u=n("244480"),l=n("923510"),o=n("957255"),d=n("782340");function r(e,t){let n=(0,a.useStateFromStores)([o.default],()=>o.default.can(l.MODERATE_STAGE_CHANNEL_PERMISSIONS,e),[e]);return null!=t&&n?(0,i.jsx)(s.MenuItem,{id:"end-stage",label:d.default.Messages.END_STAGE,color:"danger",action:function(){(0,s.openModal)(t=>(0,i.jsx)(s.ConfirmModal,{...t,header:d.default.Messages.END_STAGE_TITLE,confirmText:d.default.Messages.END_STAGE,cancelText:d.default.Messages.CANCEL,onConfirm:()=>(0,u.endStage)(e),children:(0,i.jsx)(s.Text,{variant:"text-md/normal",color:"header-secondary",children:d.default.Messages.EXPLICIT_END_STAGE_SUBTITLE})}))}}):null}},45593:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var i=n("37983");n("884691");var a=n("446674"),s=n("77078"),u=n("18054"),l=n("843624"),o=n("259141"),d=n("957255"),r=n("207273"),c=n("49111"),f=n("782340");function p(e,t){let p=(0,a.useStateFromStores)([d.default],()=>d.default.can(c.Permissions.MANAGE_CHANNELS,t)),_=(0,a.useStateFromStores)([d.default],()=>d.default.can(c.Permissions.SET_VOICE_CHANNEL_STATUS,e)),E=(0,o.useIsConnectedToVoiceChannel)(e),m=(0,a.useStateFromStores)([r.default],()=>r.default.getChannelStatus(e)),S=null!=m&&m.length>0;return e.isGuildVoice()&&(p||_)?!E&&p&&S?(0,i.jsx)(s.MenuItem,{id:"clear-status",label:f.default.Messages.VOICE_CHANNEL_CLEAR_STATUS,action:()=>{u.default.updateVoiceChannelStatus(e.id,"")}}):E&&_?(0,i.jsx)(s.MenuItem,{id:"set-status",label:f.default.Messages.VOICE_CHANNEL_SET_STATUS,action:()=>{(0,s.openModalLazy)(async()=>{let{default:t}=await n.el("843624").then(n.bind(n,"843624"));return n=>(0,i.jsx)(t,{channel:e,...n})},{modalKey:l.VOICE_CHANNEL_STATUS_MODAL_KEY})}}):null:null}},604887:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var i=n("37983");n("884691");var a=n("446674"),s=n("155823"),u=n("987317"),l=n("305122"),o=n("675961"),d=n("957255"),r=n("18494"),c=n("49111"),f=n("782340");function p(e,t){let n=(0,a.useStateFromStores)([d.default],()=>d.default.can(c.Permissions.CONNECT,e),[e]),p=(0,a.useStateFromStores)([r.default],()=>r.default.getVoiceChannelId()),_=(0,o.useCustomJoinSound)(t),E=p===e.id;return e.isGuildVocal()&&n&&null!=_&&!E?(0,i.jsx)(s.MenuItem,{id:"join-muted-custom-join-sound",label:f.default.Messages.VOICE_CHANNEL_MUTED_CUSTOM_JOIN_SOUND,action:()=>{(0,l.muteCustomJoinSound)(e.id),u.default.selectVoiceChannel(e.id)}}):null}},958936:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var i=n("37983");n("884691");var a=n("446674"),s=n("77078"),u=n("255397"),l=n("393414"),o=n("957255"),d=n("49111"),r=n("782340");function c(e,t){let n=(0,a.useStateFromStores)([o.default],()=>o.default.can(d.Permissions.CONNECT,e),[e]);return n&&e.isGuildVocal()?(0,i.jsx)(s.MenuItem,{id:"open-chat",label:r.default.Messages.OPEN_CHAT,action:()=>{u.default.updateChatOpen(e.id,!0),(0,l.transitionToGuild)(t.id,e.id)}}):null}},172858:function(e,t,n){"use strict";n.r(t),n.d(t,{DUCK_CONFETTI_SPRITE:function(){return s},COMMON_CONFETTI_COLORS:function(){return u},COMMON_CONFETTI_SPRITES:function(){return l},COMMON_CONFETTI_MAX_SPRITE_SIZE:function(){return o},COMMON_CONFETTI_BASE_CONFIG:function(){return d},COMMON_CONFETTI_ENVIRONMENT:function(){return r}});var i=n("516555"),a=n("839491");let s=a,u=["#FF73FA","#FFC0FF","#FFD836","#FF9A15","#A5F7DE","#51BC9D","#AEC7FF","#3E70DD"],l=[n("606863"),s,n("164654"),n("540346"),n("526094"),n("367469"),n("23933"),{src:n("283397"),colorize:!1}],o=28,d={velocity:{type:"static-random",minValue:{x:30,y:-80},maxValue:{x:-30,y:-180}},rotation:{type:"linear-random",minValue:0,maxValue:360,minAddValue:-25,maxAddValue:25},size:{type:"static-random",minValue:14,maxValue:o}},r=new i.Environment},200008:function(e,t,n){"use strict";n.r(t),n.d(t,{addFavoriteChannel:function(){return f},removeFavoriteChannel:function(){return p},setFavoriteChannelNickname:function(){return _},addFavoriteCategory:function(){return E},removeFavoriteCategory:function(){return m},updateFavoriteChannels:function(){return S},toggleFavoriteServerMuted:function(){return g}}),n("222007");var i=n("249654"),a=n("151426"),s=n("872173"),u=n("42203"),l=n("957255"),o=n("379881"),d=n("843455");function r(){let e=o.default.getFavoriteChannels(),t=1;for(let n in e)t=Math.max(t,e[n].order);return t+1}function c(e){for(let t in e){let n=e[t];if(null==n){delete e[t];continue}if(n.type===a.FavoriteChannelType.CATEGORY)continue;let i=u.default.getChannel(t);if(null==i||!i.isPrivate()&&!l.default.can(d.Permissions.VIEW_CHANNEL,i)){delete e[t];continue}}}function f(e,t){let n=o.default.isFavorite(e);!n&&s.PreloadedUserSettingsActionCreators.updateAsync("favorites",n=>{n.favoriteChannels[e]=a.FavoriteChannel.create({nickname:"",type:a.FavoriteChannelType.REFERENCE_ORIGINAL,position:r(),parentId:null!=t?t:"0"}),c(n.favoriteChannels)},s.UserSettingsDelay.FREQUENT_USER_ACTION)}function p(e){let t=o.default.getFavorite(e);null!=t&&s.PreloadedUserSettingsActionCreators.updateAsync("favorites",n=>{if(delete n.favoriteChannels[e],t.type===a.FavoriteChannelType.CATEGORY)for(let t in n.favoriteChannels)n.favoriteChannels[t].parentId===e&&(n.favoriteChannels[t].parentId="0");c(n.favoriteChannels)},s.UserSettingsDelay.FREQUENT_USER_ACTION)}function _(e,t){let n=o.default.isFavorite(e);n&&s.PreloadedUserSettingsActionCreators.updateAsync("favorites",n=>{n.favoriteChannels[e].nickname=null!=t?t:""},s.UserSettingsDelay.FREQUENT_USER_ACTION)}function E(e){let t=i.default.fromTimestamp(Date.now());s.PreloadedUserSettingsActionCreators.updateAsync("favorites",n=>{n.favoriteChannels[t]=a.FavoriteChannel.create({nickname:e,type:a.FavoriteChannelType.CATEGORY,position:r(),parentId:"0"})},s.UserSettingsDelay.FREQUENT_USER_ACTION)}function m(e){p(e)}function S(e){s.PreloadedUserSettingsActionCreators.updateAsync("favorites",t=>{for(let i of e)if(null!=i.position&&(t.favoriteChannels[i.id].position=i.position),void 0!==i.parent_id){var n;t.favoriteChannels[i.id].parentId=null!==(n=i.parent_id)&&void 0!==n?n:"0"}},s.UserSettingsDelay.FREQUENT_USER_ACTION)}function g(){s.PreloadedUserSettingsActionCreators.updateAsync("favorites",e=>{e.muted=!e.muted},s.UserSettingsDelay.INFREQUENT_USER_ACTION)}},397680:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s},getEventException:function(){return u}});var i=n("446674"),a=n("398604");function s(e,t){let n=(0,i.useStateFromStoresArray)([a.default],()=>{var e,n;return null!==(n=null===(e=a.default.getGuildScheduledEvent(t))||void 0===e?void 0:e.guild_scheduled_event_exceptions)&&void 0!==n?n:[]});return l(n,e)}function u(e,t){var n,i;let s=null!==(i=null===(n=a.default.getGuildScheduledEvent(t))||void 0===n?void 0:n.guild_scheduled_event_exceptions)&&void 0!==i?i:[];return l(s,e)}function l(e,t){let n=null==e?void 0:e.find(e=>e.event_exception_id===t);return n}},466148:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d},getEventSchedule:function(){return r}});var i=n("627445"),a=n.n(i),s=n("446674"),u=n("398604"),l=n("397680"),o=n("822516");function d(e,t,n){var i;let d=null!==(i=(0,s.useStateFromStores)([u.default],()=>u.default.getGuildScheduledEvent(e)))&&void 0!==i?i:n;a(null!=d,"Event must be defined"),t=null!=t?t:(0,o.getNextRecurrenceIdInEvent)(d);let r=(0,l.default)(t,e);return c(d,r,t)}function r(e,t){let n=(0,l.getEventException)(t,e.id);return c(e,n,t)}function c(e,t,n){if(null==e.recurrence_rule||null==n)return{startTime:new Date(e.scheduled_start_time),endTime:null!=e.scheduled_end_time?new Date(e.scheduled_end_time):null};let i=(0,o.getBaseScheduleForRecurrence)(n,e),{startDate:a,endDate:s}=(0,o.getScheduleForRecurrenceWithException)(i,t);return{startTime:a.toDate(),endTime:null==s?void 0:s.toDate()}}},601131:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var i=n("37983");n("884691");var a=n("446674"),s=n("77078"),u=n("817963"),l=n("244480"),o=n("398604"),d=n("322224"),r=n("745049"),c=n("782340");function f(e,t,n){let{canManageGuildEvent:f}=(0,u.useManageResourcePermissions)(null!=n?n:t),p=(0,a.useStateFromStores)([o.default],()=>o.default.isActive(e)),_=(0,a.useStateFromStores)([o.default],()=>o.default.getGuildScheduledEvent(e),[e]),E=f(_);if(null==e||!E||!p||(null==_?void 0:_.entity_type)===r.GuildScheduledEventEntityTypes.EXTERNAL)return null;let m=()=>{if(null==n?void 0:n.isGuildStageVoice()){(0,l.endStage)(n);return}null!=e&&d.default.endEvent(e,t.id),(0,s.closeAllModals)()};return(0,i.jsx)(s.MenuItem,{id:c.default.Messages.END_EVENT,label:c.default.Messages.END_EVENT,action:function(){(0,s.openModal)(e=>(0,i.jsx)(s.ConfirmModal,{...e,header:c.default.Messages.END_EVENT,confirmText:c.default.Messages.GUILD_EVENT_END_PROMPT_CONFIRM,cancelText:c.default.Messages.CANCEL,onConfirm:m,children:(0,i.jsx)(s.Text,{variant:"text-md/normal",children:c.default.Messages.GUILD_EVENT_EXTERNAL_END_PROMPT_TITLE})}))},color:"danger"})}},567707:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var i=(0,n("862205").createExperiment)({kind:"guild",id:"2023-12_voice_lockscreen_widget",label:"Voice live activity (guild)",defaultConfig:{showWidget:!1,voiceChannelActivityNotifsEnabled:!1},treatments:[{id:1,label:"Off (notif only)",config:{showWidget:!1,voiceChannelActivityNotifsEnabled:!1}},{id:2,label:"On (widget + notif)",config:{showWidget:!0,voiceChannelActivityNotifsEnabled:!1}},{id:3,label:"On (widget + notifs++)",config:{showWidget:!0,voiceChannelActivityNotifsEnabled:!0}}]})},242757:function(e,t,n){"use strict";n.r(t),n.d(t,{canViewInviteModal:function(){return a}});var i=n("49111");function a(e,t,n,a){let s=null!=n?n:t,u=null!=s&&e.can(i.Permissions.CREATE_INSTANT_INVITE,s);return u||null!=t&&null!=t.vanityURLCode||(null==a?void 0:a.invite_code)!=null}},721281:function(e,t,n){"use strict";n.r(t),n.d(t,{useVoiceActivityNotificationSettingsExperiment:function(){return o},hasVoiceChannelActivityNotifsEnabled:function(){return d}});var i=n("862205"),a=n("567707"),s=n("49111");let u=(0,i.createExperiment)({kind:"user",id:"2023-11_voice_activity_notification_user",label:"Voice Activity Notifications for User",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Voice Activity Notifications are enabled for user",config:{enabled:!0}}]}),l=(0,i.createExperiment)({kind:"guild",id:"2023-11_voice_activity_notification_guild",label:"General Voice Channel Notifications for Guild",defaultConfig:{voiceChannelActivityNotifsEnabled:!1},treatments:[{id:2,label:"Deadchat notifs disabled, voice channel activity notifs enabled",config:{voiceChannelActivityNotifsEnabled:!0}}]});function o(e){var t,n;let{voiceChannelActivityNotifsEnabled:i}=l.useExperiment({location:"useVoiceActivityNotificationSettingsExperiment",guildId:null!==(t=null==e?void 0:e.getGuildId())&&void 0!==t?t:""},{disable:(null==e?void 0:e.type)!==s.ChannelTypes.GUILD_VOICE,autoTrackExposure:!1}),{voiceChannelActivityNotifsEnabled:o}=a.default.useExperiment({location:"useVoiceActivityNotificationSettingsExperiment",guildId:null!==(n=null==e?void 0:e.getGuildId())&&void 0!==n?n:""},{disable:(null==e?void 0:e.type)!==s.ChannelTypes.GUILD_VOICE,autoTrackExposure:!1}),{enabled:d}=u.useExperiment({location:"useVoiceActivityNotificationSettingsExperiment"},{disable:(null==e?void 0:e.type)!==s.ChannelTypes.GUILD_VOICE||!i,autoTrackExposure:!0});return(null==e?void 0:e.type)===s.ChannelTypes.GUILD_VOICE&&(o||i&&d)}function d(e){var t,n;let{voiceChannelActivityNotifsEnabled:i}=l.getCurrentConfig({guildId:null!==(t=null==e?void 0:e.getGuildId())&&void 0!==t?t:"",location:"hasVoiceChannelActivityNotifsEnabled"}),{voiceChannelActivityNotifsEnabled:s}=a.default.getCurrentConfig({guildId:null!==(n=null==e?void 0:e.getGuildId())&&void 0!==n?n:"",location:"hasVoiceChannelActivityNotifsEnabled"});return i||s}},168067:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var i=(0,n("862205").createExperiment)({kind:"user",id:"2023-03_april_fools",label:"April Fools 2023",defaultConfig:{allowAprilFoolsSoundpack:!1},treatments:[{id:1,label:"April Fools 2023",config:{allowAprilFoolsSoundpack:!0}}]})},157246:function(e,t,n){"use strict";n.r(t),n.d(t,{Soundpacks:function(){return a},getSoundpackOptionsAprilFools2023:function(){return u}});var i,a,s=n("782340");function u(){return[{value:"classic",label:s.default.Messages.SOUNDPACK_CLASSIC_LABEL},{value:"detune",label:s.default.Messages.SOUNDPACK_DETUNE_LABEL}]}(i=a||(a={})).CLASSIC="classic",i.DETUNE="detune"},870696:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var i=n("446674"),a=n("913144"),s=n("168067"),u=n("157246");let l={soundpack:u.Soundpacks.CLASSIC};class o extends i.default.PersistedStore{initialize(e){s.default.subscribe({location:"1"},()=>this.emitChange()),null!=e&&(l=e)}getState(){return l}getSoundpack(){var e;let{allowAprilFoolsSoundpack:t}=s.default.getCurrentConfig({location:"37bac2_1"},{autoTrackExposure:!1});return t&&(e=l.soundpack,Object.values(u.Soundpacks).includes(e))?l.soundpack:u.Soundpacks.CLASSIC}}o.displayName="SoundpackStore",o.persistKey="SoundpackStore";var d=new o(a.default,{SET_SOUNDPACK:function(e){let{soundpack:t}=e;l={soundpack:t}}})},319291:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var i=n("157246");let a={[i.Soundpacks.CLASSIC]:{discodo:"discodo",message1:"message1",deafen:"deafen",undeafen:"undeafen",mute:"mute",unmute:"unmute",disconnect:"disconnect",ptt_start:"ptt_start",ptt_stop:"ptt_stop",user_join:"user_join",user_leave:"user_leave",user_moved:"user_moved",call_calling:"call_calling",call_ringing:"call_ringing",stream_started:"stream_started",stream_ended:"stream_ended",stream_user_joined:"stream_user_joined",stream_user_left:"stream_user_left",poggermode_enabled:"poggermode_enabled",poggermode_applause:"poggermode_applause",poggermode_achievement_unlock:"poggermode_achievement_unlock",stage_waiting:"stage_waiting"},[i.Soundpacks.DETUNE]:{discodo:"detune_discodo",message1:"detune_message1",deafen:"detune_deafen",undeafen:"detune_undeafen",mute:"detune_mute",unmute:"detune_unmute",disconnect:"detune_disconnect",ptt_start:"detune_ptt_start",ptt_stop:"detune_ptt_stop",user_join:"detune_user_join",user_leave:"detune_user_leave",user_moved:"detune_user_moved",call_calling:"detune_call_calling",call_ringing:"detune_call_ringing",stream_started:"detune_stream_started",stream_ended:"detune_stream_ended",stream_user_joined:"detune_stream_user_joined",stream_user_left:"detune_stream_user_left"}};function s(e){return a[e]}},244480:function(e,t,n){"use strict";n.r(t),n.d(t,{toggleRequestToSpeak:function(){return g},inviteUserToStage:function(){return N},audienceAckRequestToSpeak:function(){return v},moveSelfToAudience:function(){return T},setUserSuppress:function(){return A},moveUserToAudience:function(){return h},setEveryoneRolePermissionAllowed:function(){return I},startStage:function(){return C},editStage:function(){return O},endStage:function(){return M}});var i=n("627445"),a=n.n(i),s=n("316693"),u=n("872717"),l=n("450911");n("851387");var o=n("798609"),d=n("716241"),r=n("18494"),c=n("800762"),f=n("991170"),p=n("716214"),_=n("230324"),E=n("738983"),m=n("808422"),S=n("49111");function g(e,t){let n=e.getGuildId();return a(null!=n,"This channel cannot be guildless."),t&&(0,d.trackWithMetadata)(S.AnalyticEvents.REQUEST_TO_SPEAK_INITIATED,{...(0,_.getStageChannelMetadata)(e)}),u.default.patch({url:S.Endpoints.UPDATE_VOICE_STATE(n),body:{request_to_speak_timestamp:t?new Date().toISOString():null,channel_id:e.id}})}function N(e,t){let n=e.getGuildId();return a(null!=n,"This channel cannot be guildless."),u.default.patch({url:S.Endpoints.UPDATE_VOICE_STATE(n,t),body:{suppress:!1,request_to_speak_timestamp:new Date().toISOString(),channel_id:e.id}})}function v(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=null==e?void 0:e.getGuildId();a(null!=i,"This channel cannot be guildless.");let s=c.default.getVoiceStateForChannel(e.id),l=(0,m.getAudienceRequestToSpeakState)(s);return l===m.RequestToSpeakStates.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK&&!t&&(0,d.trackWithMetadata)(S.AnalyticEvents.PROMOTED_TO_SPEAKER,{...(0,_.getStageChannelMetadata)(e)}),u.default.patch({url:S.Endpoints.UPDATE_VOICE_STATE(i),body:{suppress:t,request_to_speak_timestamp:null,channel_id:e.id,...n?{silent:n}:{}}})}function T(e){let t=null==e?void 0:e.getGuildId();return a(null!=t,"This channel cannot be guildless."),u.default.patch({url:S.Endpoints.UPDATE_VOICE_STATE(t),body:{suppress:!0,channel_id:e.id,self_video:!1,self_stream:!1}})}function A(e,t,n){let i=e.getGuildId();return a(null!=i,"This channel cannot be guildless."),u.default.patch({url:S.Endpoints.UPDATE_VOICE_STATE(i,t),body:{suppress:n,channel_id:e.id}})}function h(e,t){if(null==t||null==e)return;let n=t.getGuildId();return a(null!=n,"This channel cannot be guildless."),A(t,e.id,!0),u.default.patch({url:S.Endpoints.UPDATE_VOICE_STATE(n,e.id),body:{suppress:!0,channel_id:t.id,self_video:!1,self_stream:!1}})}function I(e,t,n){let i=e.getGuildId();a(null!=i,"Channel cannot be guildless");let u=e.permissionOverwrites[i],d={id:i,type:o.PermissionOverwriteType.ROLE,allow:f.default.NONE,deny:f.default.NONE,...u};n?(d.allow=s.default.add(d.allow,t),d.deny=s.default.remove(d.deny,t)):(d.allow=s.default.remove(d.allow,t),d.deny=s.default.add(d.deny,t)),l.default.updatePermissionOverwrite(e.id,d)}async function C(e,t,n,i){if(""===t)return;let a=r.default.getVoiceChannelId()===e.id;!a&&(0,p.connectToStage)(e);let s=await (0,E.startStageInstance)(e.id,t,n,i);return v(e,!1,!0),s}async function O(e,t,n){if(""===t)return;let i=await (0,E.updateStageInstance)(e.id,t,n);return i}async function M(e){await (0,E.endStageInstance)(e.id)}},230324:function(e,t,n){"use strict";n.r(t),n.d(t,{summarizeUsernamesParticipating:function(){return c},getRemoveModeratorTooltipHint:function(){return f},getStageChannelMetadata:function(){return p}}),n("808653"),n("222007"),n("917351");var i=n("945956"),a=n("387111"),s=n("991170"),u=n("834052"),l=n("837979"),o=n("49111"),d=n("606762"),r=n("782340");function c(e,t,n,i){let s=t[0],u=a.default.getName(e,n,s),l=null!=i?i:t.length;return 1===l&&null!=s?u:null==s?r.default.Messages.SPEAKING_COUNT.format({count:l}):r.default.Messages.USER_SUMMARY_WITH_OTHERS.format({name:u,count:l-1})}function f(e,t){switch(e){case d.RowType.OWNER:return r.default.Messages.CHANNEL_PERMISSIONS_ADD_MEMBERS_TOOLTIP_OWNER;case d.RowType.ADMINISTRATOR:return r.default.Messages.CHANNEL_PERMISSIONS_ADD_MEMBERS_TOOLTIP_ADMINISTRATOR;case d.RowType.MEMBER:case d.RowType.ROLE:return t?r.default.Messages.CHANNEL_PERMISSIONS_CANNOT_REMOVE_PERMISSIONS:r.default.Messages.CHANNEL_PERMISSIONS_REMOVE_MODERATOR_TOOLTIP;case d.RowType.EMPTY_STATE:}return null}function p(e){let t=u.default.getStageInstanceByChannel(e.id);return{channel_id:e.id,guild_id:e.guild_id,topic:null==t?void 0:t.topic,media_session_id:i.default.getMediaSessionId(),request_to_speak_state:s.default.canEveryoneRole(o.Permissions.REQUEST_TO_SPEAK,e)?l.RequestToSpeakPermissionStates.EVERYONE:l.RequestToSpeakPermissionStates.NO_ONE,stage_instance_id:null==t?void 0:t.id}}},738983:function(e,t,n){"use strict";n.r(t),n.d(t,{startStageInstance:function(){return s},updateStageInstance:function(){return u},endStageInstance:function(){return l}});var i=n("872717"),a=n("49111");async function s(e,t,n,s,u){let l=await i.default.post({url:a.Endpoints.STAGE_INSTANCES,body:{channel_id:e,topic:t,privacy_level:n,guild_scheduled_event_id:u,send_start_notification:s}});return l.body}async function u(e,t,n){let s=await i.default.patch({url:a.Endpoints.STAGE_INSTANCE(e),body:{topic:t,privacy_level:n}});return s.body}function l(e){return i.default.delete(a.Endpoints.STAGE_INSTANCE(e))}},259141:function(e,t,n){"use strict";n.r(t),n.d(t,{useIsConnectedToVoiceChannel:function(){return u}});var i=n("446674"),a=n("271938"),s=n("800762");function u(e){return function(e){return(0,i.useStateFromStores)([s.default,a.default],()=>s.default.isInChannel(e,a.default.getId()))}(null==e?void 0:e.id)}},76539:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var i=n("37983");n("884691");var a=n("469563"),s=n("715072"),u=n("75196"),l=(0,a.replaceIcon)(function(e){let{width:t=24,height:n=24,color:a="currentColor",foreground:s,...l}=e;return 16===t||16===n?(0,i.jsxs)("svg",{...(0,u.default)(l),width:t,height:n,viewBox:"0 0 16 16",children:[(0,i.jsx)("path",{className:s,fill:a,d:"M14 2H16V3H14V5H13V3H11V2H13V0H14V2Z"}),(0,i.jsx)("path",{className:s,fill:a,d:"M6.5 8.00667C7.88 8.00667 9 6.88667 9 5.50667C9 4.12667 7.88 3.00667 6.5 3.00667C5.12 3.00667 4 4.12667 4 5.50667C4 6.88667 5.12 8.00667 6.5 8.00667Z"}),(0,i.jsx)("path",{className:s,fill:a,d:"M6.5 8.34C3.26 8.34 1 9.98666 1 12.34V13.0067H12V12.34C12 9.98 9.74 8.34 6.5 8.34Z"})]}):(0,i.jsx)("svg",{...(0,u.default)(l),width:t,height:n,viewBox:"0 0 24 24",children:(0,i.jsx)("path",{className:s,fill:a,fillRule:"evenodd",clipRule:"evenodd",d:"M21 3H24V5H21V8H19V5H16V3H19V0H21V3ZM10 12C12.205 12 14 10.205 14 8C14 5.795 12.205 4 10 4C7.795 4 6 5.795 6 8C6 10.205 7.795 12 10 12ZM10 13C5.289 13 2 15.467 2 19V20H18V19C18 15.467 14.711 13 10 13Z"})})},s.UserPlusIcon,void 0,{size:24})},709681:function(e,t,n){"use strict";let i;n.r(t),n.d(t,{createSoundForPack:function(){return l},createSound:function(){return o},playSound:function(){return d}});var a=n("870696"),s=n("319291"),u=n("102985");function l(e,t){var n;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=(0,s.default)(t);return o(null!==(n=a[e])&&void 0!==n?n:e,e,i)}function o(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return new i(e,t,n)}function d(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2?arguments[2]:void 0;if(u.default.disableSounds)return;let l=(0,s.default)(a.default.getSoundpack()),d=o(null!==(t=l[e])&&void 0!==t?t:e,e,n);return null!=i?d.playWithListener().then(e=>{e&&i()}):d.play(),d}i=n("895737").WebAudioSound},895737:function(e,t,n){"use strict";n.r(t),n.d(t,{playGiftSound:function(){return c},WebAudioSound:function(){return p}}),n("70102");var i=n("917351"),a=n.n(i),s=n("520497"),u=n("812809"),l=n("42887"),o=n("773336");let d="default",r=d;function c(e,t){let n=new Audio((0,s.default)(e));n.volume=(0,u.default)(t),n.play()}function f(){null!=window.navigator.mediaDevices&&window.navigator.mediaDevices.enumerateDevices().then(e=>{let t=l.default.getOutputDevices(),n=a(t).sortBy(e=>e.index).findIndex(e=>e.id===l.default.getOutputDeviceId()),i=t[l.default.getOutputDeviceId()],s=e.filter(e=>"audiooutput"===e.kind&&"communications"!==e.deviceId),u=s[n];null!=i&&(null==u||u.label!==i.name)&&(u=s.find(e=>e.label===i.name)),r=null!=u?u.deviceId:d}).catch(()=>{r=d})}o.isPlatformEmbedded&&(l.default.addChangeListener(f),f());class p{get volume(){return this._volume}set volume(e){this._volume=e,this._ensureAudio().then(t=>t.volume=e)}loop(){this._ensureAudio().then(e=>{e.loop=!0,e.play()})}play(){this._ensureAudio().then(e=>{e.loop=!1,e.play()})}pause(){null!=this._audio&&this._audio.then(e=>e.pause())}stop(){this._destroyAudio()}playWithListener(){return new Promise((e,t)=>{this._ensureAudio().then(n=>{(null==n.duration||0===n.duration)&&t("sound has no duration"),n.play(),setTimeout(()=>{e(!0)},n.duration)})})}_destroyAudio(){null!=this._audio&&(this._audio.then(e=>{e.pause(),e.src=""}),this._audio=null)}_ensureAudio(){var e;return this._audio=null!==(e=this._audio)&&void 0!==e?e:new Promise((e,t)=>{let i=new Audio;i.src=n("89400")("../../sounds/".concat(this.name,".mp3").replace("../../sounds/","./")),i.onloadeddata=()=>{i.volume=Math.min(l.default.getOutputVolume()/100*this._volume,1),o.isPlatformEmbedded&&i.setSinkId(r),e(i)},i.onerror=()=>t(Error("could not play audio")),i.onended=()=>this._destroyAudio(),i.load()}),this._audio}constructor(e,t,n){this.name=e,this._volume=n}}}}]);
//# sourceMappingURL=383b5529acd82e396e5a.js.map